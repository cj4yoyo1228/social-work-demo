<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ°¸é½¡ç£å°æˆ°æƒ…å®¤</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Noto Sans TC"', "sans-serif"],
            },
          },
        },
      };
    </script>
    <style>
      /* === é€²å ´å‹•ç•« === */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(24px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes countUp {
        from {
          opacity: 0;
          transform: translateY(8px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes pulse-glow {
        0%,
        100% {
          opacity: 1;
          box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4);
        }
        50% {
          opacity: 0.8;
          box-shadow: 0 0 0 6px rgba(239, 68, 68, 0);
        }
      }
      @keyframes shimmer {
        0% {
          background-position: -200% 0;
        }
        100% {
          background-position: 200% 0;
        }
      }
      /* view åˆ‡æ›æ·¡å…¥å‹•ç•« */
      @keyframes viewFadeIn {
        from {
          opacity: 0;
          transform: translateY(12px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      /* é›·é”åœ–å‹•ç•«ï¼šå¾ 0 åˆ° 1 å±•é–‹ */
      @keyframes radarExpand {
        from {
          transform: scale(0);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      .animate-fade-in-up {
        animation: fadeInUp 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        opacity: 0;
      }
      .animate-fade-in {
        animation: fadeIn 0.5s ease-out forwards;
        opacity: 0;
      }
      .pulse-glow {
        animation: pulse-glow 2s ease-in-out infinite;
      }
      /* view åˆ‡æ›æ™‚çš„æ·¡å…¥æ•ˆæœ */
      .view-section {
        animation: viewFadeIn 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      }

      /* === å¡ç‰‡äº’å‹• === */
      .action-card {
        transition:
          transform 0.3s cubic-bezier(0.22, 1, 0.36, 1),
          box-shadow 0.3s cubic-bezier(0.22, 1, 0.36, 1);
      }
      .action-card:hover {
        transform: translateY(-6px);
        box-shadow:
          0 20px 40px -12px rgba(0, 0, 0, 0.1),
          0 8px 16px -8px rgba(0, 0, 0, 0.06);
      }
      .kpi-card {
        transition:
          transform 0.25s ease,
          box-shadow 0.25s ease;
      }
      .kpi-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 28px -8px rgba(0, 0, 0, 0.08);
      }

      /* === æŒ‰éˆ•æ•ˆæœ === */
      .btn-action {
        transition: all 0.2s ease;
        position: relative;
        overflow: hidden;
      }
      .btn-action:active {
        transform: scale(0.96);
      }
      .btn-action.btn-success {
        background: linear-gradient(135deg, #059669, #10b981) !important;
        border-color: #059669 !important;
        color: white !important;
        cursor: default;
      }

      /* === å´é‚Šæ¬„ === */
      .sidebar-bg {
        background: linear-gradient(
          180deg,
          #1a1647 0%,
          #2d2872 50%,
          #3730a3 100%
        );
      }
      .nav-link {
        transition: all 0.2s ease;
        position: relative;
      }
      .nav-link::before {
        content: "";
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%) scaleY(0);
        width: 3px;
        height: 60%;
        background: white;
        border-radius: 0 4px 4px 0;
        transition: transform 0.2s ease;
      }
      .nav-link.active::before,
      .nav-link:hover::before {
        transform: translateY(-50%) scaleY(1);
      }

      /* === è‡ªè¨‚æ²è»¸ === */
      ::-webkit-scrollbar {
        width: 5px;
      }
      ::-webkit-scrollbar-track {
        background: transparent;
      }
      ::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }

      /* === AI å»ºè­°å€å¡Šè£é£¾ === */
      .ai-suggestion {
        position: relative;
      }
      .ai-suggestion::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 3px;
        border-radius: 3px;
      }
      .ai-suggestion-red::before {
        background: #ef4444;
      }
      .ai-suggestion-amber::before {
        background: #f59e0b;
      }
      .ai-suggestion-slate::before {
        background: #94a3b8;
      }

      /* === é ‚éƒ¨è£é£¾æ¼¸å±¤ === */
      .header-accent {
        background: linear-gradient(
          135deg,
          rgba(99, 102, 241, 0.04) 0%,
          rgba(236, 72, 153, 0.03) 50%,
          rgba(16, 185, 129, 0.02) 100%
        );
      }

      /* === ç¯©é¸è† å›ŠæŒ‰éˆ• === */
      .filter-pill {
        transition: all 0.2s ease;
        cursor: pointer;
        padding: 6px 16px;
        border-radius: 999px;
        font-size: 12px;
        font-weight: 500;
        border: 1.5px solid #e2e8f0;
        color: #64748b;
        background: white;
        outline: none;
      }
      .filter-pill:hover {
        border-color: #6366f1;
        color: #6366f1;
      }
      .filter-pill.active {
        background: #6366f1;
        border-color: #6366f1;
        color: white;
      }

      /* === ç­ç´šå¡ç‰‡ === */
      .class-card {
        transition:
          transform 0.2s ease,
          box-shadow 0.2s ease;
      }
      .class-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 28px -8px rgba(99, 102, 241, 0.15);
      }

      /* === é¢¨éšªæ¨™ç±¤ === */
      .risk-badge-high {
        background: #fef2f2;
        color: #dc2626;
      }
      .risk-badge-mid {
        background: #fffbeb;
        color: #d97706;
      }
      .risk-badge-low {
        background: #f0fdf4;
        color: #16a34a;
      }

      /* === å¿—å·¥å¡ç‰‡ === */
      .volunteer-card {
        transition:
          transform 0.2s ease,
          box-shadow 0.2s ease;
      }
      .volunteer-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 12px 28px -8px rgba(0, 0, 0, 0.08);
      }

      /* === Modal æ¨£å¼ === */
      .modal-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.2s ease;
      }
      .modal-box {
        background: white;
        border-radius: 20px;
        padding: 36px;
        width: 480px;
        max-width: 95vw;
        max-height: 90vh;
        overflow-y: auto;
        animation: fadeInUp 0.3s cubic-bezier(0.22, 1, 0.36, 1);
        box-shadow: 0 25px 60px -15px rgba(0, 0, 0, 0.25);
      }

      /* === Toast æç¤º === */
      .toast {
        position: fixed;
        bottom: 32px;
        right: 32px;
        background: #1e293b;
        color: white;
        padding: 14px 22px;
        border-radius: 12px;
        font-size: 13px;
        font-weight: 500;
        z-index: 9999;
        animation: fadeInUp 0.3s cubic-bezier(0.22, 1, 0.36, 1);
        box-shadow: 0 8px 24px -4px rgba(0, 0, 0, 0.3);
      }
      .toast.hide {
        animation: fadeIn 0.3s ease reverse;
      }

      /* === å‡ºå¸­ç‡é¡è‰² === */
      .rate-good {
        color: #10b981;
      }
      .rate-mid {
        color: #f59e0b;
      }
      .rate-bad {
        color: #ef4444;
      }

      /* åˆ—è¡¨è¡Œæ‡¸åœ */
      .case-row {
        transition: background 0.15s ease;
      }
      .case-row:hover {
        background: #f8fafc;
      }

      /* === è¦–è§’åˆ‡æ›å™¨ === */
      .persp-pill {
        transition: all 0.25s ease;
        cursor: pointer;
        padding: 7px 18px;
        border-radius: 999px;
        font-size: 13px;
        font-weight: 600;
        border: 1.5px solid #e2e8f0;
        color: #64748b;
        background: white;
        outline: none;
      }
      .persp-pill:hover {
        border-color: #6366f1;
        color: #6366f1;
      }
      .persp-pill.active {
        background: linear-gradient(135deg, #6366f1, #818cf8);
        border-color: #6366f1;
        color: white;
        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.35);
      }

      /* === å€åŸŸå¡ç‰‡é ‚éƒ¨è‰²æ¢ === */
      .region-bar-north {
        background: #3b82f6;
      }
      .region-bar-central {
        background: #10b981;
      }
      .region-bar-south {
        background: #f97316;
      }
      .region-bar-east {
        background: #8b5cf6;
      }
    </style>
  </head>
  <body class="bg-[#F8FAFC] font-sans antialiased">
    <div class="flex min-h-screen">
      <!-- ========== å·¦å´å°è¦½åˆ— ========== -->
      <aside
        class="sidebar-bg w-[260px] text-white flex flex-col fixed h-full z-20 shadow-2xl"
      >
        <!-- è¿”å›é¦–é  -->
        <div class="px-6 pt-4 pb-1">
          <a
            href="index.html"
            class="text-indigo-300/70 hover:text-white text-[12px] flex items-center gap-1 transition-colors"
            >â† å›åˆ°é¦–é </a
          >
        </div>

        <!-- ç³»çµ±æ¨™é¡Œ -->
        <div class="px-6 pt-3 pb-5">
          <div class="flex items-center gap-3.5">
            <div
              class="w-11 h-11 bg-white/10 backdrop-blur rounded-xl flex items-center justify-center text-xl shadow-inner"
            >
              ğŸ«
            </div>
            <div>
              <h1 class="text-[15px] font-bold tracking-wider">
                æ°¸é½¡ç£å°æˆ°æƒ…å®¤
              </h1>
              <p class="text-[11px] text-indigo-300/80 mt-0.5 tracking-wide">
                Yonglin Supervisor Hub
              </p>
            </div>
          </div>
        </div>

        <!-- åˆ†éš”ç·š -->
        <div class="mx-5 border-t border-white/[0.08]"></div>

        <!-- å°è¦½é¸å–®ï¼šæ¯å€‹ a åŠ ä¸Š data-view å±¬æ€§å°æ‡‰ view ID -->
        <nav class="flex-1 px-3 py-5 space-y-1">
          <a
            href="#"
            data-view="view-home"
            class="nav-link active flex items-center gap-3 px-4 py-3 rounded-xl bg-white/[0.12] text-white font-medium text-[13px]"
          >
            <span class="w-5 text-center text-base">ğŸ </span>
            <span>é¦–é ç¸½è¦½</span>
          </a>
          <a
            href="#"
            data-view="view-classes"
            class="nav-link flex items-center gap-3 px-4 py-3 rounded-xl text-indigo-200/70 hover:bg-white/[0.08] hover:text-white text-[13px]"
          >
            <span class="w-5 text-center text-base">ğŸ“š</span>
            <span>è½„å€ç­ç´šç®¡ç†</span>
          </a>
          <a
            href="#"
            data-view="view-cases"
            class="nav-link flex items-center gap-3 px-4 py-3 rounded-xl text-indigo-200/70 hover:bg-white/[0.08] hover:text-white text-[13px]"
          >
            <span class="w-5 text-center text-base">ğŸ”</span>
            <span>å€‹æ¡ˆé¢¨éšªè¿½è¹¤</span>
          </a>
          <a
            href="#"
            data-view="view-volunteers"
            class="nav-link flex items-center gap-3 px-4 py-3 rounded-xl text-indigo-200/70 hover:bg-white/[0.08] hover:text-white text-[13px]"
          >
            <span class="w-5 text-center text-base">ğŸ’›</span>
            <span>å¿—å·¥é—œæ‡·åå–®</span>
          </a>
          <a
            href="#"
            data-view="view-ai"
            class="nav-link flex items-center gap-3 px-4 py-3 rounded-xl text-indigo-200/70 hover:bg-white/[0.08] hover:text-white text-[13px]"
          >
            <span class="w-5 text-center text-base">ğŸ¤–</span>
            <span>AI æ™ºæ…§åˆ†æ</span>
          </a>
          <a
            href="#"
            data-view="view-settings"
            class="nav-link flex items-center gap-3 px-4 py-3 rounded-xl text-indigo-200/70 hover:bg-white/[0.08] hover:text-white text-[13px]"
          >
            <span class="w-5 text-center text-base">âš™ï¸</span>
            <span>ç³»çµ±è¨­å®š</span>
          </a>
        </nav>

        <!-- ä½¿ç”¨è€…è³‡è¨Š -->
        <div class="px-5 py-5 border-t border-white/[0.08]">
          <div class="flex items-center gap-3">
            <div
              class="w-9 h-9 bg-gradient-to-br from-indigo-400 to-purple-300 rounded-full flex items-center justify-center text-sm font-black text-white shadow-lg"
            >
              æ—
            </div>
            <div>
              <p class="text-[13px] font-medium">åŒ—å€ç£å°</p>
              <p class="text-[11px] text-indigo-300/70">æ—ï¼¯ï¼¯</p>
            </div>
            <div class="ml-auto">
              <div
                class="w-2 h-2 rounded-full bg-emerald-400 shadow-[0_0_6px_rgba(16,185,129,0.6)]"
              ></div>
            </div>
          </div>
        </div>
      </aside>

      <!-- ========== å³å´ä¸»å…§å®¹å€ ========== -->
      <main class="ml-[260px] flex-1 min-h-screen">
        <!-- è¦–è§’åˆ‡æ›å™¨ -->
        <div
          id="perspective-bar"
          class="px-10 pt-5 pb-4 flex items-center gap-3 border-b border-slate-100 bg-white/60 backdrop-blur sticky top-0 z-10"
        >
          <span class="text-[12px] text-slate-400 font-medium mr-1"
            >ç®¡ç†è¦–è§’</span
          >
          <button
            onclick="switchPerspective('supervisor')"
            class="persp-pill active"
            data-persp="supervisor"
          >
            ğŸ‘¤ ç£å°è¦–è§’
          </button>
          <button
            onclick="switchPerspective('branch')"
            class="persp-pill"
            data-persp="branch"
          >
            ğŸ« åˆ†æ ¡è¦–è§’
          </button>
          <button
            onclick="switchPerspective('hq')"
            class="persp-pill"
            data-persp="hq"
          >
            ğŸ¢ ç¸½éƒ¨è¦–è§’
          </button>
        </div>

        <!-- ================================================================
             VIEW 1ï¼šé¦–é ç¸½è¦½ï¼ˆä¿ç•™åŸæœ‰å…§å®¹ï¼‰
        ================================================================ -->
        <div id="view-home">
          <!-- é ‚éƒ¨å•å€™èªå€ -->
          <div class="header-accent px-10 pt-9 pb-7">
            <!-- æ—¥æœŸ -->
            <p
              class="text-[13px] text-slate-400 mb-3 animate-fade-in"
              id="current-date"
            ></p>

            <!-- å•å€™èª -->
            <div class="flex items-start justify-between flex-wrap gap-6">
              <div class="animate-fade-in" style="animation-delay: 0.1s">
                <h2 class="text-[26px] font-black text-slate-800 leading-tight">
                  <span id="greeting">æ—©å®‰</span>ï¼Œæ—ç£å°ï¼
                </h2>
                <p class="text-slate-500 mt-2 text-[14px]">
                  ä»Šæ—¥æœ‰
                  <span
                    class="inline-flex items-center justify-center bg-red-500 text-white text-[11px] font-black rounded-full w-[22px] h-[22px] mx-0.5 align-middle shadow-sm"
                    >3</span
                  >
                  é … AI å»ºè­°å„ªå…ˆè™•ç†äº‹é …
                </p>
              </div>
            </div>

            <!-- KPI æ•¸å­—å¡ç‰‡ -->
            <div class="grid grid-cols-3 gap-5 mt-7">
              <!-- å‡ºå¸­ç‡ -->
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100/80 animate-fade-in-up"
                style="animation-delay: 0.15s"
              >
                <div class="flex items-center justify-between mb-3">
                  <p class="text-[13px] text-slate-400 font-medium">
                    ä»Šæ—¥è½„å€å‡ºå¸­ç‡
                  </p>
                  <span
                    class="w-8 h-8 bg-emerald-50 rounded-lg flex items-center justify-center text-sm"
                    >âœ…</span
                  >
                </div>
                <div class="flex items-end gap-1.5">
                  <span
                    class="text-[36px] font-black text-emerald-600 leading-none"
                    data-count="98"
                    >0</span
                  >
                  <span class="text-base font-bold text-emerald-500 mb-1"
                    >%</span
                  >
                </div>
                <div class="mt-3 flex items-center gap-2">
                  <span
                    class="inline-block w-[6px] h-[6px] rounded-full bg-emerald-500"
                  ></span>
                  <span class="text-[11px] text-emerald-600 font-medium"
                    >è¡¨ç¾è‰¯å¥½ï¼Œé«˜æ–¼å¹³å‡</span
                  >
                </div>
              </div>

              <!-- æ—¥èªŒç¹³äº¤ç‡ -->
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100/80 animate-fade-in-up"
                style="animation-delay: 0.25s"
              >
                <div class="flex items-center justify-between mb-3">
                  <p class="text-[13px] text-slate-400 font-medium">
                    æ—¥èªŒç¹³äº¤ç‡
                  </p>
                  <span
                    class="w-8 h-8 bg-amber-50 rounded-lg flex items-center justify-center text-sm"
                    >âš ï¸</span
                  >
                </div>
                <div class="flex items-end gap-1.5">
                  <span
                    class="text-[36px] font-black text-amber-500 leading-none"
                    data-count="85"
                    >0</span
                  >
                  <span class="text-base font-bold text-amber-400 mb-1">%</span>
                </div>
                <div class="mt-3 flex items-center gap-2">
                  <span
                    class="inline-block w-[6px] h-[6px] rounded-full bg-amber-500"
                  ></span>
                  <span class="text-[11px] text-amber-600 font-medium"
                    >ç•¥ä½ï¼Œæœ‰ 4 ä½å°šæœªç¹³äº¤</span
                  >
                </div>
              </div>

              <!-- ç•°å¸¸é è­¦ -->
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100/80 animate-fade-in-up"
                style="animation-delay: 0.35s"
              >
                <div class="flex items-center justify-between mb-3">
                  <p class="text-[13px] text-slate-400 font-medium">
                    ç•°å¸¸é è­¦æ•¸
                  </p>
                  <span
                    class="w-8 h-8 bg-red-50 rounded-lg flex items-center justify-center text-sm"
                    >ğŸ”´</span
                  >
                </div>
                <div class="flex items-end gap-1.5">
                  <span
                    class="text-[36px] font-black text-red-500 leading-none"
                    data-count="3"
                    >0</span
                  >
                  <span class="text-base font-bold text-red-400 mb-1">é …</span>
                </div>
                <div class="mt-3 flex items-center gap-2">
                  <span
                    class="inline-block w-[6px] h-[6px] rounded-full bg-red-500 pulse-glow"
                  ></span>
                  <span class="text-[11px] text-red-600 font-medium"
                    >éœ€ç«‹å³è™•ç†</span
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- å€åŸŸåˆ†éš” -->
          <div class="px-10">
            <div class="border-t border-slate-200/60"></div>
          </div>

          <!-- AI æ€¥è¿«å¾…è¾¦å¡ç‰‡å€ -->
          <div class="px-10 py-7">
            <div class="flex items-center gap-3 mb-7">
              <h3 class="text-[17px] font-bold text-slate-800">
                ğŸ¤– AI æ€¥è¿«å¾…è¾¦äº‹é …
              </h3>
              <span
                class="text-[11px] text-slate-400 bg-slate-100 px-3 py-1 rounded-full font-medium"
                >ä¾ç·Šæ€¥ç¨‹åº¦æ’åº</span
              >
            </div>

            <div class="grid grid-cols-1 xl:grid-cols-3 gap-6">
              <!-- å¡ç‰‡ 1ï¼šé«˜é¢¨éšªå€‹æ¡ˆé è­¦ -->
              <div
                class="action-card bg-white rounded-2xl shadow-sm border border-red-100/60 border-l-[5px] border-l-red-500 overflow-hidden animate-fade-in-up"
                style="animation-delay: 0.2s"
              >
                <div class="p-6">
                  <div class="flex items-center gap-2 mb-4">
                    <span
                      class="inline-flex items-center gap-2 bg-red-50 text-red-700 text-[11px] font-bold px-3 py-1.5 rounded-full"
                    >
                      <span
                        class="w-2 h-2 rounded-full bg-red-500 pulse-glow"
                      ></span>
                      é«˜é¢¨éšªå€‹æ¡ˆé è­¦
                    </span>
                  </div>
                  <p class="text-[13px] text-slate-600 leading-[1.8] mb-5">
                    ç³»çµ±åµæ¸¬<strong class="text-slate-800 font-bold"
                      >ã€å¿ å­åœ‹å°Aç­ - ç‹å°æ˜ã€‘</strong
                    >è¿‘æœŸæ—¥èªŒåè¦†å‡ºç¾<span class="text-red-600 font-medium"
                      >ã€Œæƒ…ç·’å¤±æ§ã€</span
                    >ã€<span class="text-red-600 font-medium">ã€Œå®¶åº­è¡çªã€</span
                    >é—œéµå­—ã€‚
                  </p>
                  <div
                    class="ai-suggestion ai-suggestion-red bg-red-50/70 rounded-xl p-4 pl-5 mb-5"
                  >
                    <div class="flex items-center gap-1.5 mb-1.5">
                      <span class="text-xs">ğŸ’¡</span>
                      <span class="text-[11px] font-bold text-red-800"
                        >AI å»ºè­°è¡Œå‹•</span
                      >
                    </div>
                    <p class="text-[12px] text-red-700/90 leading-relaxed">
                      å»ºè­°ä»Šæ—¥é€²ç­æˆ–è¯çµ¡ç­ç´šç¤¾å·¥äº†è§£ç‹€æ³ï¼Œå„ªå…ˆç¢ºèªå­¸ç”Ÿå®‰å…¨ã€‚
                    </p>
                  </div>
                  <div class="flex gap-2.5">
                    <button
                      class="btn-action flex-1 bg-red-500 hover:bg-red-600 text-white text-[12px] font-bold px-4 py-2.5 rounded-xl shadow-sm shadow-red-200"
                    >
                      æŸ¥çœ‹å®Œæ•´æ—¥èªŒ
                    </button>
                    <button
                      class="btn-action btn-mark flex-1 border border-slate-200 text-slate-500 hover:bg-slate-50 text-[12px] font-medium px-4 py-2.5 rounded-xl"
                      onclick="handleAction(this, 'âœ… å·²è™•ç†')"
                    >
                      æ¨™è¨˜å·²è™•ç†
                    </button>
                  </div>
                </div>
              </div>

              <!-- å¡ç‰‡ 2ï¼šå¿—å·¥æƒ…ç·’é è­¦ -->
              <div
                class="action-card bg-white rounded-2xl shadow-sm border border-amber-100/60 border-l-[5px] border-l-amber-400 overflow-hidden animate-fade-in-up"
                style="animation-delay: 0.35s"
              >
                <div class="p-6">
                  <div class="flex items-center gap-2 mb-4">
                    <span
                      class="inline-flex items-center gap-2 bg-amber-50 text-amber-700 text-[11px] font-bold px-3 py-1.5 rounded-full"
                    >
                      <span class="w-2 h-2 rounded-full bg-amber-500"></span>
                      å¿—å·¥æƒ…ç·’é è­¦
                    </span>
                  </div>
                  <p class="text-[13px] text-slate-600 leading-[1.8] mb-5">
                    <strong class="text-slate-800 font-bold"
                      >ã€å¤§å­¸ç”Ÿç¤¾å·¥ - é™³ï¼¯ï¼¯ã€‘</strong
                    >é€£çºŒä¸‰å¤©æ—¥èªŒå­—æ•¸éŠ³æ¸›ï¼Œä¸”æ–‡å¥å¸¶æœ‰å¼·çƒˆ<span
                      class="text-amber-600 font-medium"
                      >ã€Œç„¡åŠ›æ„Ÿã€</span
                    >èˆ‡<span class="text-amber-600 font-medium">ã€ŒæŒ«æŠ˜ã€</span
                    >ã€‚
                  </p>
                  <div
                    class="ai-suggestion ai-suggestion-amber bg-amber-50/70 rounded-xl p-4 pl-5 mb-5"
                  >
                    <div class="flex items-center gap-1.5 mb-1.5">
                      <span class="text-xs">ğŸ’¡</span>
                      <span class="text-[11px] font-bold text-amber-800"
                        >AI å»ºè­°è¡Œå‹•</span
                      >
                    </div>
                    <p class="text-[12px] text-amber-700/90 leading-relaxed">
                      AI è©•ä¼°æœ‰æµå¤±é¢¨éšªï¼Œå»ºè­°å®‰æ’æ™‚é–“é€²è¡Œä¸€å°ä¸€ç£å°é—œæ‡·ã€‚
                    </p>
                  </div>
                  <div class="flex gap-2.5">
                    <button
                      class="btn-action flex-1 bg-amber-500 hover:bg-amber-600 text-white text-[12px] font-bold px-4 py-2.5 rounded-xl shadow-sm shadow-amber-200"
                      onclick="handleAction(this, 'âœ… å·²ç™¼é€')"
                    >
                      ä¸€éµç™¼é€é—œæ‡·è¨Šæ¯
                    </button>
                    <button
                      class="btn-action flex-1 border border-slate-200 text-slate-500 hover:bg-slate-50 text-[12px] font-medium px-4 py-2.5 rounded-xl"
                    >
                      æŸ¥çœ‹å¿—å·¥æŠ€èƒ½åœ°åœ–
                    </button>
                  </div>
                </div>
              </div>

              <!-- å¡ç‰‡ 3ï¼šç¼ºäº¤è¿½è¹¤æé†’ -->
              <div
                class="action-card bg-white rounded-2xl shadow-sm border border-slate-100 border-l-[5px] border-l-slate-400 overflow-hidden animate-fade-in-up"
                style="animation-delay: 0.5s"
              >
                <div class="p-6">
                  <div class="flex items-center gap-2 mb-4">
                    <span
                      class="inline-flex items-center gap-2 bg-slate-100 text-slate-600 text-[11px] font-bold px-3 py-1.5 rounded-full"
                    >
                      <span class="w-2 h-2 rounded-full bg-slate-400"></span>
                      ç¼ºäº¤è¿½è¹¤æé†’
                    </span>
                  </div>
                  <p class="text-[13px] text-slate-600 leading-[1.8] mb-5">
                    æœ¬é€±æœ‰<strong class="text-slate-800 font-bold"
                      >4 ä½ç¤¾å·¥</strong
                    >å°šæœªç¹³äº¤ç­ç´šæ—¥èªŒï¼Œå…¶ä¸­<strong
                      class="text-slate-800 font-bold"
                      >ã€å¸Œæœ›åœ‹å°Bç­ - å°å¼µã€‘</strong
                    >å·²é€¾æœŸ 3 å¤©ï¼Œç‚ºæœ¬é€±æœ€é•·æœªç¹³ç´€éŒ„ã€‚
                  </p>
                  <div
                    class="ai-suggestion ai-suggestion-slate bg-slate-50 rounded-xl p-4 pl-5 mb-5"
                  >
                    <div class="flex items-center gap-1.5 mb-1.5">
                      <span class="text-xs">ğŸ’¡</span>
                      <span class="text-[11px] font-bold text-slate-700"
                        >AI å»ºè­°è¡Œå‹•</span
                      >
                    </div>
                    <p class="text-[12px] text-slate-500 leading-relaxed">
                      å»ºè­°å„ªå…ˆè¯ç¹«é€¾æœŸæœ€ä¹…è€…ï¼Œç³»çµ±å·²è‡ªå‹•ç™¼é€ç¬¬ä¸€è¼ªæé†’ã€‚
                    </p>
                  </div>
                  <div class="flex gap-2.5">
                    <button
                      class="btn-action flex-1 bg-slate-600 hover:bg-slate-700 text-white text-[12px] font-bold px-4 py-2.5 rounded-xl shadow-sm shadow-slate-200"
                      onclick="handleAction(this, 'âœ… å·²ç™¼é€')"
                    >
                      æ‰¹æ¬¡ç™¼é€æé†’
                    </button>
                    <button
                      class="btn-action flex-1 border border-slate-200 text-slate-500 hover:bg-slate-50 text-[12px] font-medium px-4 py-2.5 rounded-xl"
                    >
                      æŸ¥çœ‹ç¹³äº¤æ˜ç´°
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- åº•éƒ¨è³‡è¨Š -->
          <div class="px-10 pb-8">
            <p class="text-[11px] text-slate-300 text-center mt-4">
              è³‡æ–™æ›´æ–°æ™‚é–“ï¼š<span id="update-time"></span>ã€€ï½œã€€ç”± AI
              å¼•æ“è‡ªå‹•åˆ†æç”¢ç”Ÿï¼Œå»ºè­°æ­é…å¯¦éš›è§€å¯Ÿåšåˆ¤æ–·
            </p>
          </div>
        </div>
        <!-- /view-home -->

        <!-- ================================================================
             VIEW 2ï¼šè½„å€ç­ç´šç®¡ç†
        ================================================================ -->
        <div id="view-classes" style="display: none">
          <div class="px-10 pt-9 pb-7">
            <!-- é é¢æ¨™é¡Œ + ç¯©é¸ -->
            <div class="flex items-center justify-between flex-wrap gap-4 mb-8">
              <div>
                <h2 class="text-[24px] font-black text-slate-800">
                  ğŸ“š è½„å€ç­ç´šç®¡ç†
                </h2>
                <p class="text-slate-400 text-[13px] mt-1">
                  å…± 12 å€‹ç­ç´šï¼Œä»Šæ—¥å‡ºå¸­ç‡æ•´é«”è‰¯å¥½
                </p>
              </div>
              <!-- ç¯©é¸è† å›Š -->
              <div class="flex gap-2" id="class-filters">
                <button class="filter-pill active" data-filter="all">
                  å…¨éƒ¨
                </button>
                <button class="filter-pill" data-filter="done">
                  âœ… å·²é»å
                </button>
                <button class="filter-pill" data-filter="pending">
                  âš ï¸ æœªé»å
                </button>
              </div>
            </div>

            <!-- ç­ç´šå¡ç‰‡ç¶²æ ¼ -->
            <div class="grid grid-cols-3 gap-5" id="class-grid">
              <!-- ç­ç´šå¡ç‰‡ç”± JS å‹•æ…‹ç”¢ç”Ÿ -->
            </div>

            <!-- åº•éƒ¨çµ±è¨ˆ -->
            <div
              class="mt-8 bg-white rounded-2xl p-5 shadow-sm border border-slate-100 flex items-center gap-8"
            >
              <div class="text-center">
                <p class="text-[28px] font-black text-[#6366F1]">12</p>
                <p class="text-[12px] text-slate-400 mt-1">ç­ç´šç¸½æ•¸</p>
              </div>
              <div class="w-px h-10 bg-slate-100"></div>
              <div class="text-center">
                <p class="text-[28px] font-black text-emerald-500">7</p>
                <p class="text-[12px] text-slate-400 mt-1">æ—¥èªŒå·²ç¹³</p>
              </div>
              <div class="w-px h-10 bg-slate-100"></div>
              <div class="text-center">
                <p class="text-[28px] font-black text-amber-500">5</p>
                <p class="text-[12px] text-slate-400 mt-1">æ—¥èªŒæœªç¹³</p>
              </div>
              <div class="w-px h-10 bg-slate-100"></div>
              <div class="text-center">
                <p class="text-[28px] font-black text-slate-700">96.4%</p>
                <p class="text-[12px] text-slate-400 mt-1">å¹³å‡å‡ºå¸­ç‡</p>
              </div>
            </div>
          </div>
        </div>
        <!-- /view-classes -->

        <!-- ================================================================
             VIEW 3ï¼šå€‹æ¡ˆé¢¨éšªè¿½è¹¤
        ================================================================ -->
        <div id="view-cases" style="display: none">
          <div class="px-10 pt-9 pb-7">
            <!-- é é¢æ¨™é¡Œ + ç¯©é¸ -->
            <div class="flex items-center justify-between flex-wrap gap-4 mb-6">
              <div>
                <h2 class="text-[24px] font-black text-slate-800">
                  ğŸ” å€‹æ¡ˆé¢¨éšªè¿½è¹¤
                </h2>
                <p class="text-slate-400 text-[13px] mt-1">
                  AI æŒçºŒç›£æ¸¬æ—¥èªŒé—œéµå­—ï¼Œè‡ªå‹•åˆ†ç´šé è­¦
                </p>
              </div>
              <!-- é¢¨éšªç¯©é¸ -->
              <div class="flex gap-2" id="case-filters">
                <button class="filter-pill active" data-filter="all">
                  å…¨éƒ¨
                </button>
                <button class="filter-pill" data-filter="high">
                  ğŸ”´ é«˜é¢¨éšª
                </button>
                <button class="filter-pill" data-filter="mid">ğŸŸ¡ ä¸­é¢¨éšª</button>
                <button class="filter-pill" data-filter="low">ğŸŸ¢ ä½é¢¨éšª</button>
              </div>
            </div>

            <!-- é¢¨éšªçµ±è¨ˆå°å¡ -->
            <div class="grid grid-cols-3 gap-4 mb-8">
              <div class="bg-red-50 rounded-2xl p-5 border border-red-100">
                <div class="flex items-center gap-3">
                  <span class="text-2xl">ğŸ”´</span>
                  <div>
                    <p class="text-[28px] font-black text-red-600 leading-none">
                      3
                    </p>
                    <p class="text-[12px] text-red-400 mt-1 font-medium">
                      é«˜é¢¨éšªå€‹æ¡ˆ
                    </p>
                  </div>
                </div>
              </div>
              <div class="bg-amber-50 rounded-2xl p-5 border border-amber-100">
                <div class="flex items-center gap-3">
                  <span class="text-2xl">ğŸŸ¡</span>
                  <div>
                    <p
                      class="text-[28px] font-black text-amber-600 leading-none"
                    >
                      5
                    </p>
                    <p class="text-[12px] text-amber-400 mt-1 font-medium">
                      ä¸­é¢¨éšªå€‹æ¡ˆ
                    </p>
                  </div>
                </div>
              </div>
              <div
                class="bg-emerald-50 rounded-2xl p-5 border border-emerald-100"
              >
                <div class="flex items-center gap-3">
                  <span class="text-2xl">ğŸŸ¢</span>
                  <div>
                    <p
                      class="text-[28px] font-black text-emerald-600 leading-none"
                    >
                      20
                    </p>
                    <p class="text-[12px] text-emerald-400 mt-1 font-medium">
                      ä½é¢¨éšªï¼ç©©å®š
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- å€‹æ¡ˆåˆ—è¡¨ -->
            <div
              class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"
            >
              <div
                class="px-6 py-4 border-b border-slate-100 flex items-center gap-2"
              >
                <span class="text-[13px] font-bold text-slate-700"
                  >å€‹æ¡ˆåˆ—è¡¨</span
                >
                <span
                  class="text-[11px] text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full"
                  id="case-count-badge"
                  >å…± 28 ç­†</span
                >
              </div>
              <!-- è¡¨é ­ -->
              <div
                class="grid px-6 py-3 bg-slate-50 text-[11px] font-bold text-slate-400 uppercase tracking-wider"
                style="grid-template-columns: 2fr 2fr 1.5fr 3fr 2fr 1.5fr"
              >
                <span>å­¸ç”Ÿå§“å</span>
                <span>ç­ç´š</span>
                <span>é¢¨éšªç­‰ç´š</span>
                <span>æœ€æ–°ç•°å¸¸æ‘˜è¦</span>
                <span>æœ€å¾Œæ›´æ–°</span>
                <span>æ“ä½œ</span>
              </div>
              <!-- åˆ—è¡¨å…§å®¹ç”± JS ç”¢ç”Ÿ -->
              <div id="case-list"></div>
            </div>
          </div>
        </div>
        <!-- /view-cases -->

        <!-- ================================================================
             VIEW 4ï¼šå¿—å·¥é—œæ‡·åå–®
        ================================================================ -->
        <div id="view-volunteers" style="display: none">
          <div class="px-10 pt-9 pb-7">
            <!-- é é¢æ¨™é¡Œ + ç¯©é¸ -->
            <div class="flex items-center justify-between flex-wrap gap-4 mb-6">
              <div>
                <h2 class="text-[24px] font-black text-slate-800">
                  ğŸ’› å¿—å·¥é—œæ‡·åå–®
                </h2>
                <p class="text-slate-400 text-[13px] mt-1">
                  å®šæœŸé—œæ‡·å¿—å·¥ç‹€æ…‹ï¼Œé é˜²æœå‹™ä¸­æ–·
                </p>
              </div>
              <!-- ç‹€æ…‹ç¯©é¸ -->
              <div class="flex gap-2" id="volunteer-filters">
                <button class="filter-pill active" data-filter="all">
                  å…¨éƒ¨
                </button>
                <button class="filter-pill" data-filter="concern">
                  âš ï¸ éœ€é—œæ³¨
                </button>
                <button class="filter-pill" data-filter="normal">
                  âœ… æ­£å¸¸
                </button>
              </div>
            </div>

            <!-- ç‹€æ…‹çµ±è¨ˆå°å¡ -->
            <div class="grid grid-cols-2 gap-4 mb-8">
              <div class="bg-amber-50 rounded-2xl p-5 border border-amber-100">
                <div class="flex items-center gap-3">
                  <span class="text-2xl">âš ï¸</span>
                  <div>
                    <p
                      class="text-[28px] font-black text-amber-600 leading-none"
                    >
                      2
                    </p>
                    <p class="text-[12px] text-amber-400 mt-1 font-medium">
                      éœ€é—œæ³¨å¿—å·¥
                    </p>
                  </div>
                </div>
              </div>
              <div
                class="bg-emerald-50 rounded-2xl p-5 border border-emerald-100"
              >
                <div class="flex items-center gap-3">
                  <span class="text-2xl">âœ…</span>
                  <div>
                    <p
                      class="text-[28px] font-black text-emerald-600 leading-none"
                    >
                      4
                    </p>
                    <p class="text-[12px] text-emerald-400 mt-1 font-medium">
                      æ­£å¸¸ç‹€æ…‹
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- å¿—å·¥å¡ç‰‡åˆ—è¡¨ -->
            <div class="grid grid-cols-2 gap-5" id="volunteer-grid">
              <!-- ç”± JS å‹•æ…‹ç”¢ç”Ÿ -->
            </div>
          </div>
        </div>
        <!-- /view-volunteers -->

        <!-- ================================================================
             VIEW 5ï¼šç³»çµ±è¨­å®šï¼ˆç°¡æ˜“ placeholderï¼‰
        ================================================================ -->
        <div id="view-settings" style="display: none">
          <div
            class="px-10 pt-9 pb-7 flex flex-col items-center justify-center min-h-[60vh]"
          >
            <div class="text-center">
              <div class="text-6xl mb-6">âš™ï¸</div>
              <h2 class="text-[22px] font-bold text-slate-700 mb-3">
                ç³»çµ±è¨­å®šåŠŸèƒ½é–‹ç™¼ä¸­...
              </h2>
              <p class="text-slate-400 text-[14px] leading-relaxed max-w-sm">
                æ­¤åŠŸèƒ½å°šåœ¨è¦åŠƒéšæ®µï¼Œé è¨ˆæ–¼ä¸‹ä¸€å€‹ç‰ˆæœ¬ä¸Šç·šã€‚<br />å¦‚æœ‰ç·Šæ€¥éœ€æ±‚ï¼Œè«‹è¯ç¹«æŠ€è¡“åœ˜éšŠã€‚
              </p>
              <div
                class="mt-8 bg-indigo-50 border border-indigo-100 rounded-2xl px-8 py-5 inline-block"
              >
                <p class="text-[13px] text-indigo-600 font-medium">
                  ğŸš§ é è¨ˆä¸Šç·šï¼š2026 å¹´ Q2
                </p>
              </div>
            </div>
          </div>
        </div>
        <!-- /view-settings -->

        <!-- ================================================================
             VIEW 6ï¼šAI æ™ºæ…§åˆ†æï¼ˆç£å°è¦–è§’ sidebar å­é é¢ï¼‰
        ================================================================ -->
        <div id="view-ai" style="display: none">
          <div class="px-10 py-8">
            <div class="flex items-center gap-3 mb-6">
              <h3 class="text-[20px] font-black text-slate-800">
                ğŸ¤– AI æ™ºæ…§åˆ†æå ±å‘Š
              </h3>
              <span
                class="text-[11px] text-slate-400 bg-slate-100 px-2.5 py-0.5 rounded-full"
                >æ¯æ—¥è‡ªå‹•æ›´æ–°</span
              >
            </div>

            <!-- æƒæçµ±è¨ˆ -->
            <div class="grid grid-cols-3 gap-4 mb-8">
              <div
                class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">ä»Šæ—¥æƒææ—¥èªŒ</p>
                <p
                  class="text-[28px] font-black text-indigo-600"
                  data-count-ai="12"
                >
                  0
                </p>
                <p class="text-[11px] text-slate-400 mt-1">ç¯‡</p>
              </div>
              <div
                class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">è‡ªå‹•æ¨™è¨˜ç•°å¸¸</p>
                <p
                  class="text-[28px] font-black text-red-500"
                  data-count-ai="3"
                >
                  0
                </p>
                <p class="text-[11px] text-slate-400 mt-1">ç­†</p>
              </div>
              <div
                class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">æƒæè¦†è“‹ç‡</p>
                <p
                  class="text-[28px] font-black text-emerald-600"
                  data-count-ai="100"
                >
                  0
                </p>
                <p class="text-[11px] text-slate-400 mt-1">%</p>
              </div>
            </div>

            <!-- AI æ¨™è¨˜çš„ç•°å¸¸æ—¥èªŒ -->
            <div class="mb-8">
              <h4 class="text-[15px] font-bold text-slate-700 mb-4">
                âš ï¸ AI æ¨™è¨˜ç•°å¸¸æ—¥èªŒ
              </h4>
              <div class="space-y-3">
                <div
                  class="bg-white rounded-xl p-5 shadow-sm border-l-4 border-l-red-500 border border-slate-100"
                >
                  <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-2">
                      <span
                        class="text-[12px] font-bold bg-red-50 text-red-600 px-2.5 py-0.5 rounded-full"
                        >ğŸ”´ å·²è½‰ç‚ºé«˜é¢¨éšª</span
                      >
                      <span class="text-[12px] text-slate-400"
                        >å°æ˜ Â· 2/22 æ—¥èªŒ</span
                      >
                    </div>
                  </div>
                  <p class="text-[13px] text-slate-600 leading-relaxed">
                    AI åµæ¸¬ã€Œæƒ…ç·’å¤±æ§ã€é—œéµå­—å‡ºç¾
                    <strong>3 æ¬¡</strong
                    >ï¼Œç¬¦åˆé¢¨éšªå‡ç´šæ¢ä»¶ã€‚å·²è‡ªå‹•æ›´æ–°å€‹æ¡ˆé¢¨éšªç­‰ç´šã€‚
                  </p>
                </div>
                <div
                  class="bg-white rounded-xl p-5 shadow-sm border-l-4 border-l-amber-400 border border-slate-100"
                >
                  <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-2">
                      <span
                        class="text-[12px] font-bold bg-amber-50 text-amber-600 px-2.5 py-0.5 rounded-full"
                        >ğŸŸ¡ å¿—å·¥æƒ…ç·’é è­¦</span
                      >
                      <span class="text-[12px] text-slate-400"
                        >å°é™³ Â· 2/21 æ—¥èªŒ</span
                      >
                    </div>
                  </div>
                  <p class="text-[13px] text-slate-600 leading-relaxed">
                    æ—¥èªŒå­—æ•¸å¾
                    <strong>267 å­—éŠ³æ¸›è‡³ 45 å­—</strong
                    >ï¼Œä¸”åµæ¸¬åˆ°ã€Œç„¡åŠ›æ„Ÿã€ã€Œå¥½ç´¯ã€ç­‰è² é¢æƒ…ç·’è©å½™ã€‚
                  </p>
                </div>
                <div
                  class="bg-white rounded-xl p-5 shadow-sm border-l-4 border-l-slate-400 border border-slate-100"
                >
                  <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-2">
                      <span
                        class="text-[12px] font-bold bg-slate-100 text-slate-600 px-2.5 py-0.5 rounded-full"
                        >âš ï¸ è¡Œæ”¿è¿½è¹¤</span
                      >
                      <span class="text-[12px] text-slate-400"
                        >å°å¼µ Â· 2/20 èµ·</span
                      >
                    </div>
                  </div>
                  <p class="text-[13px] text-slate-600 leading-relaxed">
                    é€£çºŒ
                    <strong>3 å¤©æœªç¹³äº¤æ—¥èªŒ</strong
                    >ã€‚ç³»çµ±å·²è‡ªå‹•ç™¼é€ç¬¬ä¸€è¼ªæé†’ï¼Œå»ºè­°ç›´æ¥è¯ç¹«äº†è§£ç‹€æ³ã€‚
                  </p>
                </div>
              </div>
            </div>

            <!-- ç­ç´šç¶“ç‡Ÿè¶¨å‹¢ -->
            <div>
              <h4 class="text-[15px] font-bold text-slate-700 mb-4">
                ğŸ“Š ç­ç´šç¶“ç‡Ÿ AI è¶¨å‹¢åˆ†æ
              </h4>
              <div class="space-y-3">
                <div
                  class="bg-white rounded-xl p-5 shadow-sm border border-slate-100"
                >
                  <div class="flex items-center gap-3 mb-2">
                    <span class="text-[14px] font-bold text-slate-800"
                      >å…‰æ˜åœ‹å° Aç­</span
                    >
                    <span
                      class="text-[11px] bg-emerald-50 text-emerald-600 px-2 py-0.5 rounded-full font-medium"
                      >â†‘ æ­£å‘</span
                    >
                  </div>
                  <p class="text-[13px] text-slate-500 leading-relaxed">
                    å‡ºå¸­ç‡ç©©å®šç¶­æŒ 100%ï¼Œç­ç´šæ°›åœæŒçºŒæ­£å‘ã€‚AI
                    å»ºè­°ç¶­æŒç¾è¡Œç¶“ç‡Ÿç­–ç•¥ï¼Œå¯ä½œç‚ºå…¸ç¯„ç­ç´šåˆ†äº«ã€‚
                  </p>
                </div>
                <div
                  class="bg-white rounded-xl p-5 shadow-sm border border-slate-100"
                >
                  <div class="flex items-center gap-3 mb-2">
                    <span class="text-[14px] font-bold text-slate-800"
                      >å¸Œæœ›åœ‹å° Bç­</span
                    >
                    <span
                      class="text-[11px] bg-red-50 text-red-600 px-2 py-0.5 rounded-full font-medium"
                      >â†“ éœ€é—œæ³¨</span
                    >
                  </div>
                  <p class="text-[13px] text-slate-500 leading-relaxed">
                    å‡ºå¸­ç‡é€£çºŒä¸‰å¤©ä¸‹é™è¶¨å‹¢ï¼ˆ96%â†’93%â†’91%ï¼‰ï¼Œä¸”æœ‰ 2
                    åé«˜é¢¨éšªå­¸ç«¥ã€‚å»ºè­°æœ¬é€±å®‰æ’é€²ç­è§€å¯Ÿã€‚
                  </p>
                </div>
                <div
                  class="bg-white rounded-xl p-5 shadow-sm border border-slate-100"
                >
                  <div class="flex items-center gap-3 mb-2">
                    <span class="text-[14px] font-bold text-slate-800"
                      >é™½å…‰åœ‹å° Cç­</span
                    >
                    <span
                      class="text-[11px] bg-amber-50 text-amber-600 px-2 py-0.5 rounded-full font-medium"
                      >â†‘ è¡çªä¸Šå‡</span
                    >
                  </div>
                  <p class="text-[13px] text-slate-500 leading-relaxed">
                    åŒå„•è¡çªé »ç‡è¼ƒä¸Šé€±å¢åŠ 
                    40%ï¼Œæ—¥èªŒä¸­ã€Œåµæ¶ã€ã€Œæ‰“äººã€é—œéµå­—ä¸Šå‡ã€‚å»ºè­°å®‰æ’ç­ç´šåœ˜é«”æ´»å‹•ã€‚
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ================================================================
             VIEW HQï¼šç¸½éƒ¨è¦–è§’
        ================================================================ -->
        <div id="view-hq" style="display: none">
          <div class="header-accent px-10 pt-9 pb-7">
            <p class="text-[13px] text-slate-400 mb-3" id="hq-date"></p>
            <h2 class="text-[26px] font-black text-slate-800 leading-tight">
              æ—©å®‰ï¼Œç®¡ç†åœ˜éšŠï¼
            </h2>
            <p class="text-slate-500 mt-2 text-[14px]">ä»¥ä¸‹æ˜¯å…¨å°æœå‹™æ¦‚æ³</p>

            <!-- KPI -->
            <div class="grid grid-cols-4 gap-4 mt-7">
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">å…¨å°æœå‹™ç­ç´š</p>
                <div class="flex items-end gap-1">
                  <span
                    class="text-[32px] font-black text-indigo-600"
                    data-count-hq="48"
                    >0</span
                  ><span class="text-sm font-bold text-indigo-400 mb-1"
                    >ç­</span
                  >
                </div>
              </div>
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">å…¨å°å¹³å‡å‡ºå¸­ç‡</p>
                <div class="flex items-end gap-1">
                  <span
                    class="text-[32px] font-black text-emerald-600"
                    data-count-hq="95"
                    >0</span
                  ><span class="text-sm font-bold text-emerald-400 mb-1"
                    >.2%</span
                  >
                </div>
                <p class="text-[11px] text-emerald-600 mt-1">âœ… è¡¨ç¾è‰¯å¥½</p>
              </div>
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">å…¨å°æ—¥èªŒç¹³äº¤ç‡</p>
                <div class="flex items-end gap-1">
                  <span
                    class="text-[32px] font-black text-amber-500"
                    data-count-hq="82"
                    >0</span
                  ><span class="text-sm font-bold text-amber-400 mb-1"
                    >.3%</span
                  >
                </div>
                <p class="text-[11px] text-amber-600 mt-1">âš ï¸ éœ€æŒçºŒé—œæ³¨</p>
              </div>
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">å…¨å°é«˜é¢¨éšªå€‹æ¡ˆ</p>
                <div class="flex items-end gap-1">
                  <span
                    class="text-[32px] font-black text-red-500"
                    data-count-hq="12"
                    >0</span
                  ><span class="text-sm font-bold text-red-400 mb-1">äºº</span>
                </div>
                <p class="text-[11px] text-red-600 mt-1">ğŸ”´ éœ€ç©æ¥µè™•ç†</p>
              </div>
            </div>
          </div>

          <div class="px-10 py-6">
            <!-- å€åŸŸé¢¨éšªåˆ†å¸ƒ -->
            <h3 class="text-[16px] font-bold text-slate-800 mb-4">
              ğŸ—ºï¸ å…¨å°å€åŸŸé¢¨éšªåˆ†å¸ƒ
            </h3>
            <div class="grid grid-cols-2 gap-4 mb-8">
              <div
                class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"
              >
                <div class="h-1.5 region-bar-north"></div>
                <div class="p-5">
                  <h4 class="text-[15px] font-bold text-slate-800 mb-3">
                    ğŸ”µ åŒ—å€
                  </h4>
                  <div class="grid grid-cols-2 gap-3 text-[13px]">
                    <div>
                      <span class="text-slate-400">ç­ç´šæ•¸</span
                      ><span class="float-right font-bold text-slate-700"
                        >12 ç­</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">å‡ºå¸­ç‡</span
                      ><span class="float-right font-bold text-emerald-600"
                        >96.1%</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">é«˜é¢¨éšª</span
                      ><span class="float-right font-bold text-red-500"
                        >3 äºº</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">æ—¥èªŒç‡</span
                      ><span class="float-right font-bold text-emerald-600"
                        >88%</span
                      >
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"
              >
                <div class="h-1.5 region-bar-central"></div>
                <div class="p-5">
                  <h4 class="text-[15px] font-bold text-slate-800 mb-3">
                    ğŸŸ¢ ä¸­å€
                  </h4>
                  <div class="grid grid-cols-2 gap-3 text-[13px]">
                    <div>
                      <span class="text-slate-400">ç­ç´šæ•¸</span
                      ><span class="float-right font-bold text-slate-700"
                        >14 ç­</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">å‡ºå¸­ç‡</span
                      ><span class="float-right font-bold text-emerald-600"
                        >94.5%</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">é«˜é¢¨éšª</span
                      ><span class="float-right font-bold text-red-500"
                        >4 äºº</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">æ—¥èªŒç‡</span
                      ><span class="float-right font-bold text-amber-500"
                        >79% âš ï¸</span
                      >
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"
              >
                <div class="h-1.5 region-bar-south"></div>
                <div class="p-5">
                  <h4 class="text-[15px] font-bold text-slate-800 mb-3">
                    ğŸŸ  å—å€
                  </h4>
                  <div class="grid grid-cols-2 gap-3 text-[13px]">
                    <div>
                      <span class="text-slate-400">ç­ç´šæ•¸</span
                      ><span class="float-right font-bold text-slate-700"
                        >13 ç­</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">å‡ºå¸­ç‡</span
                      ><span class="float-right font-bold text-emerald-600"
                        >95.8%</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">é«˜é¢¨éšª</span
                      ><span class="float-right font-bold text-red-500"
                        >2 äºº</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">æ—¥èªŒç‡</span
                      ><span class="float-right font-bold text-emerald-600"
                        >85%</span
                      >
                    </div>
                  </div>
                </div>
              </div>
              <div
                class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"
              >
                <div class="h-1.5 region-bar-east"></div>
                <div class="p-5">
                  <h4 class="text-[15px] font-bold text-slate-800 mb-3">
                    ğŸŸ£ æ±å€
                  </h4>
                  <div class="grid grid-cols-2 gap-3 text-[13px]">
                    <div>
                      <span class="text-slate-400">ç­ç´šæ•¸</span
                      ><span class="float-right font-bold text-slate-700"
                        >9 ç­</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">å‡ºå¸­ç‡</span
                      ><span class="float-right font-bold text-amber-500"
                        >93.2% âš ï¸</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">é«˜é¢¨éšª</span
                      ><span class="float-right font-bold text-red-500"
                        >3 äºº</span
                      >
                    </div>
                    <div>
                      <span class="text-slate-400">æ—¥èªŒç‡</span
                      ><span class="float-right font-bold text-red-500"
                        >76% ğŸ”´</span
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- AI è¦†è“‹ç‡çµ±è¨ˆ -->
            <div
              class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100 mb-8"
            >
              <h4 class="text-[14px] font-bold text-indigo-800 mb-4">
                ğŸ¤– AI ç³»çµ±è¦†è“‹ç‡
              </h4>
              <div class="grid grid-cols-3 gap-6">
                <div>
                  <p class="text-[12px] text-indigo-500 mb-1">æ—¥èªŒæƒæè¦†è“‹ç‡</p>
                  <p class="text-[24px] font-black text-indigo-700">98.5%</p>
                  <div class="w-full bg-indigo-200/50 rounded-full h-2 mt-2">
                    <div
                      class="bg-indigo-500 h-2 rounded-full"
                      style="width: 98.5%"
                    ></div>
                  </div>
                </div>
                <div>
                  <p class="text-[12px] text-indigo-500 mb-1">
                    æœ¬é€±è‡ªå‹•æ¨™è¨˜é¢¨éšª
                  </p>
                  <p class="text-[24px] font-black text-indigo-700">8 ç­†</p>
                </div>
                <div>
                  <p class="text-[12px] text-indigo-500 mb-1">
                    è‡ªå‹•ç”¢å‡ºè¶¨å‹¢å ±å‘Š
                  </p>
                  <p class="text-[24px] font-black text-indigo-700">48 ä»½</p>
                </div>
              </div>
            </div>

            <!-- è·¨å€ç¹³äº¤ç‡è¡¨æ ¼ -->
            <h3 class="text-[16px] font-bold text-slate-800 mb-4">
              ğŸ“‹ è·¨å€æ—¥èªŒç¹³äº¤é”æˆç‡
            </h3>
            <div
              class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"
            >
              <table class="w-full text-[13px]">
                <thead>
                  <tr class="bg-slate-50 text-slate-500 text-left">
                    <th class="px-5 py-3 font-medium">å€åŸŸ</th>
                    <th class="px-5 py-3 font-medium">æ‡‰ç¹³</th>
                    <th class="px-5 py-3 font-medium">å·²ç¹³</th>
                    <th class="px-5 py-3 font-medium">ç¹³äº¤ç‡</th>
                    <th class="px-5 py-3 font-medium">ç‹€æ…‹</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-t border-slate-100">
                    <td class="px-5 py-3 font-medium text-slate-700">
                      ğŸ”µ åŒ—å€
                    </td>
                    <td class="px-5 py-3">24</td>
                    <td class="px-5 py-3">21</td>
                    <td class="px-5 py-3 font-bold text-emerald-600">88%</td>
                    <td class="px-5 py-3">
                      <span
                        class="bg-emerald-50 text-emerald-600 text-[11px] px-2 py-0.5 rounded-full font-medium"
                        >âœ… é”æ¨™</span
                      >
                    </td>
                  </tr>
                  <tr class="border-t border-slate-100">
                    <td class="px-5 py-3 font-medium text-slate-700">
                      ğŸŸ¢ ä¸­å€
                    </td>
                    <td class="px-5 py-3">28</td>
                    <td class="px-5 py-3">22</td>
                    <td class="px-5 py-3 font-bold text-amber-500">79%</td>
                    <td class="px-5 py-3">
                      <span
                        class="bg-amber-50 text-amber-600 text-[11px] px-2 py-0.5 rounded-full font-medium"
                        >âš ï¸ åä½</span
                      >
                    </td>
                  </tr>
                  <tr class="border-t border-slate-100">
                    <td class="px-5 py-3 font-medium text-slate-700">
                      ğŸŸ  å—å€
                    </td>
                    <td class="px-5 py-3">26</td>
                    <td class="px-5 py-3">22</td>
                    <td class="px-5 py-3 font-bold text-emerald-600">85%</td>
                    <td class="px-5 py-3">
                      <span
                        class="bg-emerald-50 text-emerald-600 text-[11px] px-2 py-0.5 rounded-full font-medium"
                        >âœ… é”æ¨™</span
                      >
                    </td>
                  </tr>
                  <tr class="border-t border-slate-100">
                    <td class="px-5 py-3 font-medium text-slate-700">
                      ğŸŸ£ æ±å€
                    </td>
                    <td class="px-5 py-3">18</td>
                    <td class="px-5 py-3">14</td>
                    <td class="px-5 py-3 font-bold text-red-500">76%</td>
                    <td class="px-5 py-3">
                      <span
                        class="bg-red-50 text-red-600 text-[11px] px-2 py-0.5 rounded-full font-medium"
                        >ğŸ”´ å¾…æ”¹å–„</span
                      >
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- /view-hq -->

        <!-- ================================================================
             VIEW BRANCHï¼šåˆ†æ ¡è¦–è§’
        ================================================================ -->
        <div id="view-branch" style="display: none">
          <div class="header-accent px-10 pt-9 pb-7">
            <p class="text-[13px] text-slate-400 mb-3" id="branch-date"></p>
            <h2 class="text-[26px] font-black text-slate-800 leading-tight">
              æ—©å®‰ï¼Œå¼µä¸»ä»»ï¼
            </h2>
            <p class="text-slate-500 mt-2 text-[14px]">
              ä»¥ä¸‹æ˜¯åŒ—å€åˆ†æ ¡ä»Šæ—¥æ¦‚æ³
            </p>

            <!-- KPI -->
            <div class="grid grid-cols-4 gap-4 mt-7">
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">è½„å€ç­ç´šæ•¸</p>
                <div class="flex items-end gap-1">
                  <span
                    class="text-[32px] font-black text-indigo-600"
                    data-count-branch="12"
                    >0</span
                  ><span class="text-sm font-bold text-indigo-400 mb-1"
                    >ç­</span
                  >
                </div>
              </div>
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">ä»Šæ—¥æ—¥èªŒç¹³äº¤ç‡</p>
                <div class="flex items-end gap-1">
                  <span
                    class="text-[32px] font-black text-amber-500"
                    data-count-branch="75"
                    >0</span
                  ><span class="text-sm font-bold text-amber-400 mb-1">%</span>
                </div>
                <p class="text-[11px] text-amber-600 mt-1">âš ï¸ ä½æ–¼æ¨™æº–</p>
              </div>
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">ä¸­é«˜é¢¨éšªå€‹æ¡ˆ</p>
                <div class="flex items-end gap-1">
                  <span
                    class="text-[32px] font-black text-red-500"
                    data-count-branch="5"
                    >0</span
                  ><span class="text-sm font-bold text-red-400 mb-1">äºº</span>
                </div>
                <p class="text-[11px] text-red-600 mt-1">ğŸ”´ éœ€å„ªå…ˆè™•ç†</p>
              </div>
              <div
                class="kpi-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100"
              >
                <p class="text-[12px] text-slate-400 mb-2">å¾…è™•ç†æé†’</p>
                <div class="flex items-end gap-1">
                  <span
                    class="text-[32px] font-black text-slate-700"
                    data-count-branch="7"
                    >0</span
                  ><span class="text-sm font-bold text-slate-400 mb-1">é …</span>
                </div>
              </div>
            </div>
          </div>

          <div class="px-10 py-6">
            <!-- æ—¥èªŒå‚¬ç¹³æ¸…å–® -->
            <div class="mb-8">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-[16px] font-bold text-slate-800">
                  ğŸ“‹ æ—¥èªŒå‚¬ç¹³æ¸…å–®
                </h3>
                <span
                  class="text-[12px] text-red-500 bg-red-50 px-3 py-1 rounded-full font-bold"
                  >æœªç¹³ 3 äºº</span
                >
              </div>
              <div class="space-y-3">
                <div
                  class="bg-white rounded-xl p-5 shadow-sm border border-slate-100 flex items-center justify-between"
                >
                  <div class="flex items-center gap-4">
                    <div
                      class="w-10 h-10 bg-red-50 rounded-full flex items-center justify-center text-sm font-black text-red-600"
                    >
                      å¼µ
                    </div>
                    <div>
                      <p class="text-[14px] font-bold text-slate-800">
                        å°å¼µ<span class="text-slate-400 font-normal ml-2"
                          >å¸Œæœ›åœ‹å° Bç­</span
                        >
                      </p>
                      <p class="text-[12px] text-red-500 mt-0.5">
                        ğŸ”´ é€¾æœŸ 3 å¤©
                      </p>
                    </div>
                  </div>
                  <button
                    class="btn-action bg-red-500 hover:bg-red-600 text-white text-[12px] font-medium px-4 py-2 rounded-lg"
                    onclick="handleAction(this, 'âœ… å·²æé†’')"
                  >
                    ä¸€éµæé†’
                  </button>
                </div>
                <div
                  class="bg-white rounded-xl p-5 shadow-sm border border-slate-100 flex items-center justify-between"
                >
                  <div class="flex items-center gap-4">
                    <div
                      class="w-10 h-10 bg-amber-50 rounded-full flex items-center justify-center text-sm font-black text-amber-600"
                    >
                      é™³
                    </div>
                    <div>
                      <p class="text-[14px] font-bold text-slate-800">
                        å°é™³<span class="text-slate-400 font-normal ml-2"
                          >ä»æ„›åœ‹å° Eç­</span
                        >
                      </p>
                      <p class="text-[12px] text-amber-500 mt-0.5">
                        ğŸŸ¡ é€¾æœŸ 1 å¤©
                      </p>
                    </div>
                  </div>
                  <button
                    class="btn-action bg-amber-500 hover:bg-amber-600 text-white text-[12px] font-medium px-4 py-2 rounded-lg"
                    onclick="handleAction(this, 'âœ… å·²æé†’')"
                  >
                    ä¸€éµæé†’
                  </button>
                </div>
                <div
                  class="bg-white rounded-xl p-5 shadow-sm border border-slate-100 flex items-center justify-between"
                >
                  <div class="flex items-center gap-4">
                    <div
                      class="w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center text-sm font-black text-slate-600"
                    >
                      æ˜
                    </div>
                    <div>
                      <p class="text-[14px] font-bold text-slate-800">
                        å°æ˜<span class="text-slate-400 font-normal ml-2"
                          >å¿ å­åœ‹å° Hç­</span
                        >
                      </p>
                      <p class="text-[12px] text-slate-500 mt-0.5">
                        â° ä»Šæ—¥åˆ°æœŸ
                      </p>
                    </div>
                  </div>
                  <button
                    class="btn-action bg-slate-600 hover:bg-slate-700 text-white text-[12px] font-medium px-4 py-2 rounded-lg"
                    onclick="handleAction(this, 'âœ… å·²æé†’')"
                  >
                    ä¸€éµæé†’
                  </button>
                </div>
              </div>
            </div>

            <!-- ä¸­é«˜é¢¨éšªé è­¦æ¸…å–® -->
            <div class="mb-8">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-[16px] font-bold text-slate-800">
                  âš ï¸ ä¸­é«˜é¢¨éšªé è­¦
                </h3>
                <span
                  class="text-[12px] text-red-500 bg-red-50 px-3 py-1 rounded-full font-bold"
                  >5 äºº</span
                >
              </div>
              <div
                class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden"
              >
                <div
                  class="border-b border-slate-100 p-4 flex items-center justify-between"
                >
                  <div class="flex items-center gap-3">
                    <span
                      class="text-[12px] font-bold bg-red-50 text-red-600 px-2.5 py-0.5 rounded-full"
                      >ğŸ”´ é«˜é¢¨éšª</span
                    >
                    <span class="text-[13px] font-bold text-slate-800"
                      >ç‹å°æ˜</span
                    >
                    <span class="text-[12px] text-slate-400">å¿ å­åœ‹å° Aç­</span>
                  </div>
                  <button
                    class="btn-action text-[12px] font-medium text-red-600 bg-red-50 hover:bg-red-100 px-3 py-1.5 rounded-lg"
                    onclick="handleAction(this, 'âœ… å·²è™•ç†')"
                  >
                    ä»‹å…¥è™•ç†
                  </button>
                </div>
                <div
                  class="border-b border-slate-100 p-4 flex items-center justify-between"
                >
                  <div class="flex items-center gap-3">
                    <span
                      class="text-[12px] font-bold bg-red-50 text-red-600 px-2.5 py-0.5 rounded-full"
                      >ğŸ”´ é«˜é¢¨éšª</span
                    >
                    <span class="text-[13px] font-bold text-slate-800"
                      >å‘¨å­ç‘œ</span
                    >
                    <span class="text-[12px] text-slate-400"
                      >å¸Œæœ›åœ‹å° Bç­ â€” é€£çºŒå…©é€±æœªå‡ºå¸­</span
                    >
                  </div>
                  <button
                    class="btn-action text-[12px] font-medium text-red-600 bg-red-50 hover:bg-red-100 px-3 py-1.5 rounded-lg"
                    onclick="handleAction(this, 'âœ… å·²è™•ç†')"
                  >
                    ä»‹å…¥è™•ç†
                  </button>
                </div>
                <div
                  class="border-b border-slate-100 p-4 flex items-center justify-between"
                >
                  <div class="flex items-center gap-3">
                    <span
                      class="text-[12px] font-bold bg-amber-50 text-amber-600 px-2.5 py-0.5 rounded-full"
                      >ğŸŸ¡ ä¸­é¢¨éšª</span
                    >
                    <span class="text-[13px] font-bold text-slate-800"
                      >æå¤§è¯</span
                    >
                    <span class="text-[12px] text-slate-400"
                      >å¸Œæœ›åœ‹å° Bç­ â€” å­¸ç¿’é€€ç¸®è·¡è±¡</span
                    >
                  </div>
                  <button
                    class="btn-action text-[12px] font-medium text-amber-600 bg-amber-50 hover:bg-amber-100 px-3 py-1.5 rounded-lg"
                    onclick="handleAction(this, 'âœ… æŒçºŒè§€å¯Ÿä¸­')"
                  >
                    æŒçºŒè§€å¯Ÿ
                  </button>
                </div>
                <div
                  class="border-b border-slate-100 p-4 flex items-center justify-between"
                >
                  <div class="flex items-center gap-3">
                    <span
                      class="text-[12px] font-bold bg-amber-50 text-amber-600 px-2.5 py-0.5 rounded-full"
                      >ğŸŸ¡ ä¸­é¢¨éšª</span
                    >
                    <span class="text-[13px] font-bold text-slate-800"
                      >æ—å°èŠ¬</span
                    >
                    <span class="text-[12px] text-slate-400"
                      >é™½å…‰åœ‹å° Cç­ â€” äººéš›äº’å‹•ç•°å¸¸</span
                    >
                  </div>
                  <button
                    class="btn-action text-[12px] font-medium text-amber-600 bg-amber-50 hover:bg-amber-100 px-3 py-1.5 rounded-lg"
                    onclick="handleAction(this, 'âœ… æŒçºŒè§€å¯Ÿä¸­')"
                  >
                    æŒçºŒè§€å¯Ÿ
                  </button>
                </div>
                <div class="p-4 flex items-center justify-between">
                  <div class="flex items-center gap-3">
                    <span
                      class="text-[12px] font-bold bg-amber-50 text-amber-600 px-2.5 py-0.5 rounded-full"
                      >ğŸŸ¡ ä¸­é¢¨éšª</span
                    >
                    <span class="text-[13px] font-bold text-slate-800"
                      >åŠ‰å»ºå®</span
                    >
                    <span class="text-[12px] text-slate-400"
                      >é™½å…‰åœ‹å° Cç­ â€” åŒå„•è¡çªå¢åŠ </span
                    >
                  </div>
                  <button
                    class="btn-action text-[12px] font-medium text-amber-600 bg-amber-50 hover:bg-amber-100 px-3 py-1.5 rounded-lg"
                    onclick="handleAction(this, 'âœ… æŒçºŒè§€å¯Ÿä¸­')"
                  >
                    æŒçºŒè§€å¯Ÿ
                  </button>
                </div>
              </div>
            </div>

            <!-- å‡ºå¸­ç•°å¸¸é è­¦ -->
            <div class="mb-8">
              <h3 class="text-[16px] font-bold text-slate-800 mb-4">
                ğŸ“Š å‡ºå¸­ç•°å¸¸ç­ç´š
              </h3>
              <div class="grid grid-cols-3 gap-4">
                <div
                  class="bg-white rounded-xl p-4 shadow-sm border border-slate-100"
                >
                  <p class="text-[13px] font-bold text-slate-800 mb-1">
                    å¸Œæœ›åœ‹å° Bç­
                  </p>
                  <p class="text-[22px] font-black text-amber-500">93%</p>
                  <p class="text-[11px] text-slate-400 mt-1">ç¼ºå¸­ 1 äºº</p>
                </div>
                <div
                  class="bg-white rounded-xl p-4 shadow-sm border border-slate-100"
                >
                  <p class="text-[13px] font-bold text-slate-800 mb-1">
                    ä¿¡ç¾©åœ‹å° Fç­
                  </p>
                  <p class="text-[22px] font-black text-red-500">86%</p>
                  <p class="text-[11px] text-slate-400 mt-1">ç¼ºå¸­ 2 äºº</p>
                </div>
                <div
                  class="bg-white rounded-xl p-4 shadow-sm border border-slate-100"
                >
                  <p class="text-[13px] font-bold text-slate-800 mb-1">
                    å¿ å­åœ‹å° Hç­
                  </p>
                  <p class="text-[22px] font-black text-amber-500">90%</p>
                  <p class="text-[11px] text-slate-400 mt-1">ç¼ºå¸­ 1 äºº</p>
                </div>
              </div>
            </div>

            <!-- AI åˆ†ææ‘˜è¦ -->
            <div
              class="bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100"
            >
              <h4 class="text-[14px] font-bold text-indigo-800 mb-3">
                ğŸ¤– AI æœ¬é€±åˆ†ææ‘˜è¦
              </h4>
              <div
                class="space-y-2.5 text-[13px] text-indigo-700 leading-relaxed"
              >
                <p>
                  ğŸ“Œ æœ¬é€± AI å…±æƒæ <strong>84 ç¯‡æ—¥èªŒ</strong>ï¼Œè‡ªå‹•æ¨™è¨˜
                  <strong>5 ç­†ç•°å¸¸ç´€éŒ„</strong>ã€‚
                </p>
                <p>
                  ğŸ“Œ é‡é»ç™¼ç¾ï¼š<strong>å¸Œæœ›åœ‹å° B ç­</strong
                  >é€£çºŒä¸‰å¤©å‡ºå¸­ç‡ä¸‹é™è¶¨å‹¢ï¼Œå»ºè­°åˆ†æ ¡é‡é»é—œæ³¨ã€‚
                </p>
                <p>
                  ğŸ“Œ
                  å¿—å·¥æƒ…ç·’æŒ‡æ•¸ï¼šæ•´é«”ç©©å®šï¼Œ<strong>å°é™³</strong>éœ€ç‰¹åˆ¥é—œæ³¨ï¼ˆé€£çºŒä½å­—æ•¸
                  + è² é¢è©é »ä¸Šå‡ï¼‰ã€‚
                </p>
              </div>
            </div>
          </div>
        </div>
        <!-- /view-branch -->
      </main>
    </div>

    <!-- ================================================================
         å¿—å·¥æŠ€èƒ½åœ°åœ– Modal
    ================================================================ -->
    <div
      id="skill-modal"
      class="modal-overlay"
      style="display: none"
      onclick="closeModalOutside(event)"
    >
      <div class="modal-box" onclick="event.stopPropagation()">
        <!-- Modal é ‚éƒ¨ï¼šå¿—å·¥è³‡è¨Š -->
        <div class="flex items-center gap-4 mb-6">
          <!-- å¤§é ­ç…§ placeholderï¼ˆåœ“å½¢è‰²å¡Š + åå­—é¦–å­—ï¼‰ -->
          <div
            id="modal-avatar"
            class="w-16 h-16 rounded-full flex items-center justify-center text-white text-2xl font-black shadow-lg"
            style="background: linear-gradient(135deg, #6366f1, #8b5cf6)"
          >
            <span id="modal-avatar-char">æ˜</span>
          </div>
          <div>
            <h3 class="text-[18px] font-black text-slate-800" id="modal-name">
              å°æ˜
            </h3>
            <p class="text-[13px] text-slate-400" id="modal-class">
              å…‰æ˜åœ‹å° Aç­ + Dç­
            </p>
            <p
              class="text-[12px] text-indigo-500 font-medium mt-1"
              id="modal-duration"
            >
              å·²æœå‹™ 8 å€‹æœˆ
            </p>
          </div>
          <button
            class="ml-auto w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 flex items-center justify-center text-slate-500 transition-colors"
            onclick="closeModal()"
          >
            âœ•
          </button>
        </div>

        <!-- æ¨™é¡Œ -->
        <div class="flex items-center gap-2 mb-4">
          <span class="text-[15px] font-bold text-slate-700">ğŸ—ºï¸ æŠ€èƒ½åœ°åœ–</span>
          <span
            class="text-[11px] text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full"
            >AI è©•ä¼°çµæœ</span
          >
        </div>

        <!-- é›·é”åœ– Canvas -->
        <div class="flex justify-center mb-5">
          <canvas id="radar-canvas" width="300" height="280"></canvas>
        </div>

        <!-- é›·é”åœ–åœ–ä¾‹ -->
        <div class="grid grid-cols-5 gap-2 mb-5">
          <div class="text-center">
            <div class="text-lg mb-1">ğŸ“š</div>
            <p class="text-[10px] text-slate-500 leading-tight">èª²å ‚ç®¡ç†</p>
          </div>
          <div class="text-center">
            <div class="text-lg mb-1">ğŸ‘ï¸</div>
            <p class="text-[10px] text-slate-500 leading-tight">å€‹æ¡ˆè§€å¯Ÿ</p>
          </div>
          <div class="text-center">
            <div class="text-lg mb-1">ğŸ“</div>
            <p class="text-[10px] text-slate-500 leading-tight">æ—¥èªŒæ’°å¯«</p>
          </div>
          <div class="text-center">
            <div class="text-lg mb-1">ğŸ¤</div>
            <p class="text-[10px] text-slate-500 leading-tight">åœ˜éšŠå”ä½œ</p>
          </div>
          <div class="text-center">
            <div class="text-lg mb-1">ğŸ’</div>
            <p class="text-[10px] text-slate-500 leading-tight">æƒ…ç·’æ”¯æŒ</p>
          </div>
        </div>

        <!-- AI åˆ†ææ‘˜è¦ -->
        <div class="bg-indigo-50 rounded-xl p-4 border border-indigo-100 mb-5">
          <div class="flex items-center gap-1.5 mb-2">
            <span class="text-sm">ğŸ¤–</span>
            <span class="text-[12px] font-bold text-indigo-700"
              >AI åˆ†ææ‘˜è¦</span
            >
          </div>
          <p
            class="text-[13px] text-indigo-600/90 leading-relaxed"
            id="modal-ai-summary"
          >
            å°æ˜åœ¨èª²å ‚ç®¡ç†å’Œåœ˜éšŠå”ä½œè¡¨ç¾å„ªç•°ï¼Œå»ºè­°åŠ å¼·å€‹æ¡ˆè§€å¯Ÿèƒ½åŠ›ã€‚
          </p>
        </div>

        <!-- é—œé–‰æŒ‰éˆ• -->
        <button
          class="w-full bg-[#6366F1] hover:bg-indigo-600 text-white font-bold py-3 rounded-xl transition-colors"
          onclick="closeModal()"
        >
          é—œé–‰
        </button>
      </div>
    </div>

    <script>
      // ================================================================
      // å·¥å…·å‡½å¼ï¼šé¡¯ç¤º Toast æç¤º
      // ================================================================
      function showToast(msg) {
        // ç§»é™¤èˆŠçš„ toast
        const old = document.querySelector(".toast");
        if (old) old.remove();

        const toast = document.createElement("div");
        toast.className = "toast";
        toast.textContent = msg;
        document.body.appendChild(toast);

        // 2.5 ç§’å¾Œè‡ªå‹•æ¶ˆå¤±
        setTimeout(() => {
          toast.style.opacity = "0";
          toast.style.transition = "opacity 0.3s";
          setTimeout(() => toast.remove(), 300);
        }, 2500);
      }

      // ================================================================
      // é¦–é ï¼šæ—¥æœŸèˆ‡å•å€™èªåˆå§‹åŒ–
      // ================================================================
      (function initHeader() {
        const now = new Date();
        const hour = now.getHours();

        const dateStr = now.toLocaleDateString("zh-TW", {
          year: "numeric",
          month: "long",
          day: "numeric",
          weekday: "long",
        });
        document.getElementById("current-date").textContent = dateStr;

        const timeStr = now.toLocaleTimeString("zh-TW", {
          hour: "2-digit",
          minute: "2-digit",
        });
        document.getElementById("update-time").textContent =
          `${dateStr} ${timeStr}`;

        let greeting = "æ—©å®‰";
        if (hour >= 12 && hour < 18) greeting = "åˆå®‰";
        else if (hour >= 18) greeting = "æ™šå®‰";
        document.getElementById("greeting").textContent = greeting;
      })();

      // ================================================================
      // é¦–é ï¼šKPI æ•¸å­—è·³å‹•å‹•ç•«
      // ================================================================
      function animateCounters() {
        document.querySelectorAll("[data-count]").forEach((el) => {
          const target = parseInt(el.dataset.count, 10);
          const duration = 1400;
          const startTime = performance.now();

          function update(currentTime) {
            const elapsed = currentTime - startTime;
            const progress = Math.min(elapsed / duration, 1);
            // easeOutExpoï¼šå¿«é€Ÿåˆ°é”å¾Œæ¸›é€Ÿ
            const eased = progress === 1 ? 1 : 1 - Math.pow(2, -10 * progress);
            el.textContent = Math.round(target * eased);
            if (progress < 1) requestAnimationFrame(update);
          }
          // å»¶é²å•Ÿå‹•ï¼Œè®“é€²å ´å‹•ç•«å…ˆå®Œæˆ
          setTimeout(() => requestAnimationFrame(update), 400);
        });
      }
      animateCounters();

      // ================================================================
      // é¦–é ï¼šæŒ‰éˆ•æ“ä½œè™•ç†
      // ================================================================
      function handleAction(btn, successText) {
        if (btn.disabled) return;
        btn.disabled = true;
        const originalText = btn.textContent;
        btn.textContent = "è™•ç†ä¸­...";
        btn.style.opacity = "0.7";
        setTimeout(() => {
          btn.textContent = successText;
          btn.style.opacity = "1";
          btn.classList.add("btn-success");
          btn.style.cursor = "default";
        }, 600);
      }

      // ================================================================
      // VIEW åˆ‡æ›é‚è¼¯
      // ================================================================
      // ç£å°è¦–è§’çš„ sidebar view åˆ—è¡¨
      const supervisorViews = [
        "view-home",
        "view-classes",
        "view-cases",
        "view-volunteers",
        "view-ai",
        "view-settings",
      ];
      // æ‰€æœ‰ viewï¼ˆå«è·¨è¦–è§’ï¼‰
      const allViews = [...supervisorViews, "view-hq", "view-branch"];
      // ç•¶å‰è¦–è§’
      let currentPerspective = "supervisor";
      // å´é‚Šæ¬„æ˜¯å¦å¯ç”¨
      let sidebarEnabled = true;

      function switchView(viewId) {
        // éš±è—æ‰€æœ‰ view
        allViews.forEach((id) => {
          const el = document.getElementById(id);
          if (el) el.style.display = "none";
        });

        // é¡¯ç¤ºç›®æ¨™ viewï¼Œä¸¦å¥—ç”¨æ·¡å…¥å‹•ç•«
        const target = document.getElementById(viewId);
        if (target) {
          target.style.display = "block";
          target.classList.remove("view-section");
          void target.offsetWidth;
          target.classList.add("view-section");
        }

        // AI åˆ†æ View çš„ KPI è¨ˆæ•¸å™¨å‹•ç•«
        if (viewId === "view-ai") {
          animateCustomCounters("data-count-ai");
        }
      }

      // ================================================================
      // è¦–è§’åˆ‡æ›é‚è¼¯ï¼ˆç¸½éƒ¨ / åˆ†æ ¡ / ç£å°ï¼‰
      // ================================================================
      function switchPerspective(persp) {
        currentPerspective = persp;

        // æ›´æ–° pill active ç‹€æ…‹
        document.querySelectorAll(".persp-pill").forEach((p) => {
          p.classList.toggle("active", p.getAttribute("data-persp") === persp);
        });

        if (persp === "supervisor") {
          // ç£å°è¦–è§’ï¼šå•Ÿç”¨ sidebarï¼Œåˆ‡å›é¦–é 
          sidebarEnabled = true;
          document.querySelectorAll(".nav-link").forEach((l) => {
            l.style.opacity = "1";
            l.style.pointerEvents = "auto";
          });
          switchView("view-home");
          // é‡è¨­ sidebar active åˆ°é¦–é 
          setActiveSidebarLink("view-home");
        } else if (persp === "hq") {
          // ç¸½éƒ¨è¦–è§’ï¼šåœç”¨ sidebarï¼Œé¡¯ç¤ºç¸½éƒ¨å…§å®¹
          sidebarEnabled = false;
          dimSidebar();
          switchView("view-hq");
          // è¨­å®šæ—¥æœŸ
          const hqDate = document.getElementById("hq-date");
          if (hqDate)
            hqDate.textContent =
              document.getElementById("current-date").textContent;
          // è§¸ç™¼ KPI å‹•ç•«
          animateCustomCounters("data-count-hq");
        } else if (persp === "branch") {
          // åˆ†æ ¡è¦–è§’ï¼šåœç”¨ sidebarï¼Œé¡¯ç¤ºåˆ†æ ¡å…§å®¹
          sidebarEnabled = false;
          dimSidebar();
          switchView("view-branch");
          // è¨­å®šæ—¥æœŸ
          const brDate = document.getElementById("branch-date");
          if (brDate)
            brDate.textContent =
              document.getElementById("current-date").textContent;
          // è§¸ç™¼ KPI å‹•ç•«
          animateCustomCounters("data-count-branch");
        }
      }

      // è®“ sidebar åŠé€æ˜ï¼ˆéç£å°è¦–è§’æ™‚ï¼‰
      function dimSidebar() {
        document.querySelectorAll(".nav-link").forEach((l) => {
          l.style.opacity = "0.4";
          l.style.pointerEvents = "none";
        });
      }

      // è¨­å®š sidebar çš„ active é€£çµ
      function setActiveSidebarLink(viewId) {
        document.querySelectorAll(".nav-link").forEach((l) => {
          l.classList.remove(
            "active",
            "bg-white/[0.12]",
            "text-white",
            "font-medium",
          );
          l.classList.add("text-indigo-200/70");
        });
        const target = document.querySelector('[data-view="' + viewId + '"]');
        if (target) {
          target.classList.add(
            "active",
            "bg-white/[0.12]",
            "text-white",
            "font-medium",
          );
          target.classList.remove("text-indigo-200/70");
        }
      }

      // è‡ªè¨‚ data-count å±¬æ€§çš„ KPI å‹•ç•«ï¼ˆçµ¦ç¸½éƒ¨å’Œåˆ†æ ¡ç”¨ï¼‰
      function animateCustomCounters(attr) {
        document.querySelectorAll("[" + attr + "]").forEach((el) => {
          const target = parseInt(el.getAttribute(attr), 10);
          const duration = 1200;
          const startTime = performance.now();
          function update(currentTime) {
            const elapsed = currentTime - startTime;
            const progress = Math.min(elapsed / duration, 1);
            const eased = progress === 1 ? 1 : 1 - Math.pow(2, -10 * progress);
            el.textContent = Math.round(target * eased);
            if (progress < 1) requestAnimationFrame(update);
          }
          setTimeout(() => requestAnimationFrame(update), 200);
        });
      }

      // å´é‚Šæ¬„é»æ“Šäº‹ä»¶
      document.querySelectorAll(".nav-link").forEach((link) => {
        link.addEventListener("click", function (e) {
          e.preventDefault();
          // éç£å°è¦–è§’æ™‚ï¼Œsidebar ä¸å¯ç”¨
          if (!sidebarEnabled) return;

          // æ›´æ–° active æ¨£å¼
          const viewId = this.getAttribute("data-view");
          setActiveSidebarLink(viewId);

          // åˆ‡æ›å°æ‡‰ view
          if (viewId) switchView(viewId);
        });
      });

      // ================================================================
      // VIEW 2ï¼šè½„å€ç­ç´šç®¡ç† - è³‡æ–™èˆ‡æ¸²æŸ“
      // ================================================================
      const classData = [
        {
          name: "å…‰æ˜åœ‹å° Aç­",
          worker: "å°æ˜",
          students: 12,
          rate: 100,
          logged: true,
        },
        {
          name: "å¸Œæœ›åœ‹å° Bç­",
          worker: "å°å¼µ",
          students: 15,
          rate: 93,
          logged: false,
        },
        {
          name: "é™½å…‰åœ‹å° Cç­",
          worker: "å°æ",
          students: 10,
          rate: 100,
          logged: true,
        },
        {
          name: "å…‰æ˜åœ‹å° Dç­",
          worker: "å°æ˜",
          students: 13,
          rate: 92,
          logged: true,
        },
        {
          name: "ä»æ„›åœ‹å° Eç­",
          worker: "å°é™³",
          students: 11,
          rate: 100,
          logged: false,
        },
        {
          name: "ä¿¡ç¾©åœ‹å° Fç­",
          worker: "å°æ—",
          students: 14,
          rate: 86,
          logged: true,
        },
        {
          name: "å’Œå¹³åœ‹å° Gç­",
          worker: "å°ç‹",
          students: 12,
          rate: 100,
          logged: true,
        },
        {
          name: "å¿ å­åœ‹å° Hç­",
          worker: "å°æ˜",
          students: 10,
          rate: 90,
          logged: false,
        },
        {
          name: "å¤§åŒåœ‹å° Iç­",
          worker: "å°å¼µ",
          students: 13,
          rate: 100,
          logged: true,
        },
        {
          name: "ä¸­å±±åœ‹å° Jç­",
          worker: "å°æ",
          students: 11,
          rate: 100,
          logged: true,
        },
        {
          name: "å»ºåœ‹åœ‹å° Kç­",
          worker: "å°é™³",
          students: 15,
          rate: 93,
          logged: false,
        },
        {
          name: "å¾©èˆˆåœ‹å° Lç­",
          worker: "å°æ—",
          students: 12,
          rate: 100,
          logged: true,
        },
      ];

      // å‡ºå¸­ç‡å°æ‡‰é¡è‰²
      function getRateColor(rate) {
        if (rate >= 95)
          return {
            text: "text-emerald-600",
            bg: "bg-emerald-50",
            dot: "bg-emerald-500",
          };
        if (rate >= 80)
          return {
            text: "text-amber-600",
            bg: "bg-amber-50",
            dot: "bg-amber-500",
          };
        return { text: "text-red-600", bg: "bg-red-50", dot: "bg-red-500" };
      }

      // æ¸²æŸ“ç­ç´šå¡ç‰‡
      function renderClasses(filter) {
        const grid = document.getElementById("class-grid");
        grid.innerHTML = "";

        const filtered = classData.filter((c) => {
          if (filter === "done") return c.logged;
          if (filter === "pending") return !c.logged;
          return true;
        });

        filtered.forEach((c, i) => {
          const color = getRateColor(c.rate);
          const card = document.createElement("div");
          card.className =
            "class-card bg-white rounded-2xl p-5 shadow-sm border border-slate-100";
          card.style.animationDelay = `${i * 0.05}s`;
          card.innerHTML = `
            <div class="flex items-start justify-between mb-4">
              <div>
                <h4 class="text-[14px] font-bold text-slate-800">${c.name}</h4>
                <p class="text-[12px] text-slate-400 mt-0.5">è² è²¬ç¤¾å·¥ï¼š${c.worker}</p>
              </div>
              <span class="text-[11px] font-bold px-2 py-1 rounded-full ${c.logged ? "bg-emerald-50 text-emerald-600" : "bg-amber-50 text-amber-600"}">
                ${c.logged ? "âœ… å·²ç¹³" : "âš ï¸ æœªç¹³"}
              </span>
            </div>
            <div class="flex items-center gap-4 mb-4">
              <div class="flex items-center gap-1.5">
                <span class="text-[12px] text-slate-400">ğŸ‘¥</span>
                <span class="text-[13px] font-medium text-slate-700">${c.students} äºº</span>
              </div>
              <div class="flex items-center gap-1.5">
                <span class="inline-block w-[6px] h-[6px] rounded-full ${color.dot}"></span>
                <span class="text-[13px] font-bold ${color.text}">${c.rate}%</span>
                <span class="text-[11px] text-slate-400">å‡ºå¸­ç‡</span>
              </div>
            </div>
            <!-- å‡ºå¸­ç‡é€²åº¦æ¢ -->
            <div class="w-full bg-slate-100 rounded-full h-1.5 mb-4">
              <div class="h-1.5 rounded-full ${color.dot} transition-all duration-500" style="width: ${c.rate}%"></div>
            </div>
            <button
              class="w-full bg-[#6366F1]/10 hover:bg-[#6366F1] text-[#6366F1] hover:text-white text-[12px] font-bold py-2 rounded-xl transition-all duration-200"
              onclick="showToast('ğŸ“š æ­£åœ¨é–‹å•Ÿ ${c.name} ç­ç´šè©³æƒ…...')"
            >æŸ¥çœ‹ç­ç´š</button>
          `;
          grid.appendChild(card);
        });

        // è‹¥ç„¡çµæœ
        if (filtered.length === 0) {
          grid.innerHTML =
            '<div class="col-span-3 text-center py-12 text-slate-400">æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„ç­ç´š</div>';
        }
      }

      // ç¯©é¸æŒ‰éˆ•ç¶å®š
      document
        .querySelectorAll("#class-filters .filter-pill")
        .forEach((btn) => {
          btn.addEventListener("click", function () {
            document
              .querySelectorAll("#class-filters .filter-pill")
              .forEach((b) => b.classList.remove("active"));
            this.classList.add("active");
            renderClasses(this.dataset.filter);
          });
        });

      // åˆå§‹æ¸²æŸ“
      renderClasses("all");

      // ================================================================
      // VIEW 3ï¼šå€‹æ¡ˆé¢¨éšªè¿½è¹¤ - è³‡æ–™èˆ‡æ¸²æŸ“
      // ================================================================
      const caseData = [
        // é«˜é¢¨éšª
        {
          name: "ç‹å°æ˜",
          cls: "å¿ å­åœ‹å° Aç­",
          risk: "high",
          summary: "è¿‘æœŸæ—¥èªŒåè¦†å‡ºç¾æƒ…ç·’å¤±æ§é—œéµå­—",
          date: "2026/02/22",
        },
        {
          name: "å‘¨å­ç‘œ",
          cls: "å¸Œæœ›åœ‹å° Bç­",
          risk: "high",
          summary: "é€£çºŒå…©é€±æœªå‡ºå¸­ï¼Œå®¶è¨ªæœªæœ",
          date: "2026/02/21",
        },
        {
          name: "åŠ‰å»ºå®",
          cls: "é™½å…‰åœ‹å° Cç­",
          risk: "high",
          summary: "èˆ‡åŒå„•è¡çªé »ç‡ä¸Šå‡ï¼Œå°å¸«åæ˜ æ“”æ†‚",
          date: "2026/02/20",
        },
        // ä¸­é¢¨éšª
        {
          name: "æ—é›…å©·",
          cls: "ä»æ„›åœ‹å° Eç­",
          risk: "mid",
          summary: "è¿‘æœŸæƒ…ç·’èµ·ä¼è¼ƒå¤§ï¼Œæ—¥èªŒé¡¯ç¤ºç„¦æ…®å‚¾å‘",
          date: "2026/02/22",
        },
        {
          name: "é™³å† å®‡",
          cls: "ä¿¡ç¾©åœ‹å° Fç­",
          risk: "mid",
          summary: "å‡ºå¸­ç‡ä¸‹æ»‘è‡³ 80%ï¼Œè«‹å‡åŸå› ä¸æ˜",
          date: "2026/02/21",
        },
        {
          name: "é»ƒå­è»’",
          cls: "å’Œå¹³åœ‹å° Gç­",
          risk: "mid",
          summary: "èˆ‡è€å¸«é—œä¿‚ç·Šå¼µï¼Œèª²å ‚åƒèˆ‡åº¦é™ä½",
          date: "2026/02/20",
        },
        {
          name: "è”¡ä¾æ—",
          cls: "å¤§åŒåœ‹å° Iç­",
          risk: "mid",
          summary: "è¿‘æœŸé£²é£Ÿç¿’æ…£æ”¹è®Šï¼Œå¿—å·¥è§€å¯Ÿåˆ°å¤–è²Œæ¶ˆç˜¦",
          date: "2026/02/19",
        },
        {
          name: "å³å®—æ†²",
          cls: "å»ºåœ‹åœ‹å° Kç­",
          risk: "mid",
          summary: "å®¶é•·åæ˜ å­©å­æœ€è¿‘æƒ…ç·’ä½è½",
          date: "2026/02/18",
        },
        // ä½é¢¨éšª
        {
          name: "ææ€ç©",
          cls: "å…‰æ˜åœ‹å° Aç­",
          risk: "low",
          summary: "æ•´é«”è¡¨ç¾ç©©å®šï¼Œé©æ‡‰è‰¯å¥½",
          date: "2026/02/22",
        },
        {
          name: "å¼µè‚²è±ª",
          cls: "å…‰æ˜åœ‹å° Dç­",
          risk: "low",
          summary: "è¿‘æœŸåŠŸèª²é€²æ­¥ï¼Œå‡ºå¸­ç‡ 100%",
          date: "2026/02/22",
        },
        {
          name: "è¨±èŠ·æ¶µ",
          cls: "ä¸­å±±åœ‹å° Jç­",
          risk: "low",
          summary: "å¿—å·¥å›å ±å­©å­ç©æ¥µåƒèˆ‡æ´»å‹•",
          date: "2026/02/21",
        },
        {
          name: "è¶™å† ç¿”",
          cls: "å¾©èˆˆåœ‹å° Lç­",
          risk: "low",
          summary: "å­¸ç¿’æ…‹åº¦è‰¯å¥½ï¼Œç„¡ç•°å¸¸ç‹€æ³",
          date: "2026/02/21",
        },
        {
          name: "é„­é›¨å»·",
          cls: "å¸Œæœ›åœ‹å° Bç­",
          risk: "low",
          summary: "äººéš›é—œä¿‚èæ´½ï¼Œå¿ƒæƒ…é–‹æœ—",
          date: "2026/02/20",
        },
        {
          name: "æ¥Šé›…é›¯",
          cls: "é™½å…‰åœ‹å° Cç­",
          risk: "low",
          summary: "å„ç§‘æˆç¸¾ç©©å®šï¼Œå®¶åº­æ”¯æŒå……è¶³",
          date: "2026/02/20",
        },
        {
          name: "ä½•æ–‡è»’",
          cls: "å¿ å­åœ‹å° Hç­",
          risk: "low",
          summary: "ç„¡ç•°å¸¸ï¼Œå¿—å·¥è§€å¯Ÿæ­£å¸¸",
          date: "2026/02/19",
        },
        {
          name: "å®‹ä½³é¦¨",
          cls: "å¤§åŒåœ‹å° Iç­",
          risk: "low",
          summary: "å‡ºå¸­ç‡ 100%ï¼Œæ…‹åº¦ç©æ¥µ",
          date: "2026/02/19",
        },
        {
          name: "æ–¹ä¿Šå‚‘",
          cls: "ä¿¡ç¾©åœ‹å° Fç­",
          risk: "low",
          summary: "ä½œæ¥­æŒ‰æ™‚ç¹³äº¤ï¼Œè¡¨ç¾ç©©å®š",
          date: "2026/02/18",
        },
        {
          name: "è‘‰è©©æ¶µ",
          cls: "å’Œå¹³åœ‹å° Gç­",
          risk: "low",
          summary: "è¿‘æœŸæ—¥èªŒåæ˜ æƒ…ç·’æ­£é¢",
          date: "2026/02/18",
        },
        {
          name: "é¾å­éˆ",
          cls: "ä»æ„›åœ‹å° Eç­",
          risk: "low",
          summary: "å°èª²ç¨‹æŠ•å…¥åº¦é«˜ï¼Œç„¡ç•°å¸¸",
          date: "2026/02/17",
        },
        {
          name: "ç›§å† éœ–",
          cls: "å»ºåœ‹åœ‹å° Kç­",
          risk: "low",
          summary: "æ•´é«”ç‹€æ³ç©©å®šï¼ŒæŒçºŒè¿½è¹¤ä¸­",
          date: "2026/02/17",
        },
        {
          name: "è¬æ¬£å¦¤",
          cls: "ä¸­å±±åœ‹å° Jç­",
          risk: "low",
          summary: "ç„¡è­¦ç¤ºé—œéµå­—ï¼Œæ—¥èªŒæ’°å¯«æ­£å¸¸",
          date: "2026/02/16",
        },
        {
          name: "é‚±åº­ç…Š",
          cls: "å¾©èˆˆåœ‹å° Lç­",
          risk: "low",
          summary: "å‡ºå¸­ç‡é«˜ï¼Œå¿—å·¥çµ¦äºˆæ­£é¢è©•ä¼°",
          date: "2026/02/16",
        },
        {
          name: "ç¿æ˜±è±ª",
          cls: "å…‰æ˜åœ‹å° Aç­",
          risk: "low",
          summary: "å®¶åº­ç‹€æ³ç©©å®šï¼Œå­¸æ ¡è¡¨ç¾è‰¯å¥½",
          date: "2026/02/15",
        },
        {
          name: "æ–½é›…é›¯",
          cls: "é™½å…‰åœ‹å° Cç­",
          risk: "low",
          summary: "äººéš›äº’å‹•æ­£å¸¸ï¼Œæƒ…ç·’ç©©å®š",
          date: "2026/02/15",
        },
        {
          name: "é»ƒæ€¡å›",
          cls: "å…‰æ˜åœ‹å° Dç­",
          risk: "low",
          summary: "è¿‘æœŸèª²å ‚åƒèˆ‡ç©æ¥µï¼Œè¡¨ç¾é€²æ­¥",
          date: "2026/02/14",
        },
        {
          name: "ç¾…ç´«ç¶º",
          cls: "å¿ å­åœ‹å° Hç­",
          risk: "low",
          summary: "èˆ‡åŒå„•é—œä¿‚è‰¯å¥½ï¼Œç„¡ç•°å¸¸",
          date: "2026/02/14",
        },
        {
          name: "æ±ŸæŸç·¯",
          cls: "ä¿¡ç¾©åœ‹å° Fç­",
          risk: "low",
          summary: "ç©©å®šæœå‹™ä¸­ï¼ŒæŒçºŒè§€å¯Ÿ",
          date: "2026/02/13",
        },
        {
          name: "è˜‡å¨å„’",
          cls: "å»ºåœ‹åœ‹å° Kç­",
          risk: "low",
          summary: "æ•´é«”ç‹€æ³è‰¯å¥½ï¼Œè¡¨ç¾ç©©å®š",
          date: "2026/02/13",
        },
      ];

      const riskMeta = {
        high: { label: "ğŸ”´ é«˜é¢¨éšª", badgeClass: "risk-badge-high" },
        mid: { label: "ğŸŸ¡ ä¸­é¢¨éšª", badgeClass: "risk-badge-mid" },
        low: { label: "ğŸŸ¢ ä½é¢¨éšª", badgeClass: "risk-badge-low" },
      };

      // æ¸²æŸ“å€‹æ¡ˆåˆ—è¡¨
      function renderCases(filter) {
        const list = document.getElementById("case-list");
        const badge = document.getElementById("case-count-badge");
        list.innerHTML = "";

        const filtered = caseData.filter((c) => {
          if (filter === "high") return c.risk === "high";
          if (filter === "mid") return c.risk === "mid";
          if (filter === "low") return c.risk === "low";
          return true;
        });

        badge.textContent = `å…± ${filtered.length} ç­†`;

        filtered.forEach((c) => {
          const meta = riskMeta[c.risk];
          const row = document.createElement("div");
          row.className =
            "case-row grid px-6 py-4 border-b border-slate-50 items-center";
          row.style.gridTemplateColumns = "2fr 2fr 1.5fr 3fr 2fr 1.5fr";
          row.innerHTML = `
            <span class="text-[13px] font-semibold text-slate-800">${c.name}</span>
            <span class="text-[12px] text-slate-500">${c.cls}</span>
            <span class="inline-flex items-center text-[11px] font-bold px-2 py-1 rounded-full w-fit ${meta.badgeClass}">${meta.label}</span>
            <span class="text-[12px] text-slate-500 pr-4 leading-relaxed">${c.summary}</span>
            <span class="text-[12px] text-slate-400">${c.date}</span>
            <button
              class="text-[11px] font-bold text-[#6366F1] border border-[#6366F1]/30 bg-[#6366F1]/5 hover:bg-[#6366F1] hover:text-white px-3 py-1.5 rounded-lg transition-all duration-200 w-fit"
              onclick="showToast('ğŸ” æ­£åœ¨é–‹å•Ÿ ${c.name} çš„å€‹æ¡ˆè©³æƒ…...')"
            >æŸ¥çœ‹è©³æƒ…</button>
          `;
          list.appendChild(row);
        });

        if (filtered.length === 0) {
          list.innerHTML =
            '<div class="text-center py-12 text-slate-400 text-[13px]">æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„å€‹æ¡ˆ</div>';
        }
      }

      // ç¯©é¸æŒ‰éˆ•ç¶å®š
      document.querySelectorAll("#case-filters .filter-pill").forEach((btn) => {
        btn.addEventListener("click", function () {
          document
            .querySelectorAll("#case-filters .filter-pill")
            .forEach((b) => b.classList.remove("active"));
          this.classList.add("active");
          renderCases(this.dataset.filter);
        });
      });

      // åˆå§‹æ¸²æŸ“
      renderCases("all");

      // ================================================================
      // VIEW 4ï¼šå¿—å·¥é—œæ‡·åå–® - è³‡æ–™èˆ‡æ¸²æŸ“
      // ================================================================
      const volunteerData = [
        {
          name: "å°æ˜",
          classes: "å…‰æ˜åœ‹å° Aç­ + Dç­",
          status: "normal",
          statusEmoji: "ğŸ˜Š",
          statusText: "æ­£å¸¸",
          summary: "ä»Šå¤©å­©å­å€‘è¡¨ç¾å¾ˆæ£’ï¼Œä¸Šèª²æ°£æ°›èæ´½ï¼",
          duration: "å·²æœå‹™ 8 å€‹æœˆ",
          skills: [88, 72, 80, 90, 75], // èª²å ‚ç®¡ç†ã€å€‹æ¡ˆè§€å¯Ÿã€æ—¥èªŒæ’°å¯«ã€åœ˜éšŠå”ä½œã€æƒ…ç·’æ”¯æŒ
          aiSummary:
            "å°æ˜åœ¨èª²å ‚ç®¡ç†å’Œåœ˜éšŠå”ä½œè¡¨ç¾å„ªç•°ï¼Œå»ºè­°åŠ å¼·å€‹æ¡ˆè§€å¯Ÿèƒ½åŠ›ï¼Œå¯åƒåŠ ä¸‹æ¬¡è§€å¯ŸæŠ€å·§åŸ¹è¨“ã€‚",
        },
        {
          name: "å°å¼µ",
          classes: "å¸Œæœ›åœ‹å° Bç­",
          status: "concern",
          statusEmoji: "ğŸ˜Ÿ",
          statusText: "éœ€é—œæ³¨",
          summary: "è¦ºå¾—å¾ˆç´¯ï¼Œä¸çŸ¥é“æ€éº¼å¹«åŠ©ä»–ï¼Œæ„Ÿè¦ºè‡ªå·±ä¸å¤ å¥½...",
          duration: "å·²æœå‹™ 6 å€‹æœˆ",
          skills: [65, 60, 55, 70, 45],
          aiSummary:
            "å°å¼µè¿‘æœŸæƒ…ç·’æ”¯æŒå’Œæ—¥èªŒæ’°å¯«èƒ½åŠ›æŒ‡æ¨™ä¸‹æ»‘ï¼Œæ•´é«”ç‹€æ…‹éœ€é—œæ³¨ï¼Œå»ºè­°å®‰æ’ä¸€å°ä¸€ç£å°é¢è«‡ã€‚",
        },
        {
          name: "å°æ",
          classes: "é™½å…‰åœ‹å° Cç­",
          status: "normal",
          statusEmoji: "ğŸ˜Š",
          statusText: "æ­£å¸¸",
          summary: "å­¸ç”Ÿé€²æ­¥å¾ˆå¤šï¼Œå¾ˆæœ‰æˆå°±æ„Ÿï¼Œç¹¼çºŒåŠ æ²¹ï¼",
          duration: "å·²æœå‹™ 12 å€‹æœˆ",
          skills: [82, 88, 90, 85, 92],
          aiSummary:
            "å°æåœ¨æƒ…ç·’æ”¯æŒå’Œæ—¥èªŒæ’°å¯«ä¸Šè¡¨ç¾ç‰¹åˆ¥çªå‡ºï¼Œæ˜¯å…¨éšŠæ¨™ç«¿ï¼Œå¯é‚€è«‹åˆ†äº«æœ€ä½³å¯¦è¸ã€‚",
        },
        {
          name: "å°é™³",
          classes: "ä»æ„›åœ‹å° Eç­ + å»ºåœ‹åœ‹å° Kç­",
          status: "concern",
          statusEmoji: "ğŸ˜°",
          statusText: "æ€¥éœ€é—œæ‡·",
          summary: "é€£çºŒä¸‰å¤©å­—æ•¸éŠ³æ¸›...å¾ˆç´¯ï¼Œæ„Ÿè¦ºå¿«æ’ä¸ä¸‹å»äº†...",
          duration: "å·²æœå‹™ 3 å€‹æœˆ",
          skills: [50, 48, 30, 55, 25],
          aiSummary:
            "å°é™³æ‰€æœ‰æŠ€èƒ½æŒ‡æ¨™å‡ä½æ–¼å¹³å‡ï¼Œä¸”è¿‘æœŸæ—¥èªŒå¸¶æœ‰æ˜é¡¯ç„¡åŠ›æ„Ÿï¼Œæ€¥éœ€å®‰æ’ç·Šæ€¥é—œæ‡·é¢è«‡ã€‚",
        },
        {
          name: "å°æ—",
          classes: "ä¿¡ç¾©åœ‹å° Fç­ + å¾©èˆˆåœ‹å° Lç­",
          status: "normal",
          statusEmoji: "ğŸ˜Š",
          statusText: "æ­£å¸¸",
          summary: "æ–°å­¸æœŸé©æ‡‰è‰¯å¥½ï¼Œç­ä¸Šå­©å­éƒ½å¾ˆå¯æ„›ï¼",
          duration: "å·²æœå‹™ 4 å€‹æœˆ",
          skills: [70, 65, 72, 68, 78],
          aiSummary:
            "å°æ—æ•´é«”æŠ€èƒ½å‡è¡¡ï¼Œæƒ…ç·’æ”¯æŒè¡¨ç¾è¼ƒçªå‡ºï¼Œæ–°äººé©æ‡‰é †åˆ©ï¼Œå»ºè­°æŒçºŒé—œæ³¨èª²å ‚ç®¡ç†æŠ€å·§æå‡ã€‚",
        },
        {
          name: "å°ç‹",
          classes: "å’Œå¹³åœ‹å° Gç­",
          status: "normal",
          statusEmoji: "ğŸ˜Š",
          statusText: "æ­£å¸¸",
          summary: "å­©å­å€‘ä»Šå¤©å¾ˆé–‹å¿ƒï¼Œç¬‘è²ä¸æ–·ï¼Œå……å¯¦çš„ä¸€å¤©ï¼",
          duration: "å·²æœå‹™ 10 å€‹æœˆ",
          skills: [85, 80, 78, 82, 88],
          aiSummary:
            "å°ç‹åœ¨æƒ…ç·’æ”¯æŒå’Œèª²å ‚ç®¡ç†ä¸Šå‡æœ‰å‡ºè‰²è¡¨ç¾ï¼Œæœå‹™ç¶“é©—è±å¯Œï¼Œå¯æ“”ä»»æ–°å¿—å·¥çš„è¼”å°å“¡ã€‚",
        },
      ];

      // æ¸²æŸ“å¿—å·¥å¡ç‰‡
      function renderVolunteers(filter) {
        const grid = document.getElementById("volunteer-grid");
        grid.innerHTML = "";

        const filtered = volunteerData.filter((v) => {
          if (filter === "concern") return v.status === "concern";
          if (filter === "normal") return v.status === "normal";
          return true;
        });

        filtered.forEach((v, i) => {
          // ç‹€æ…‹æ¨£å¼
          const statusStyle = {
            normal: { bg: "bg-emerald-50", text: "text-emerald-600" },
            concern:
              v.statusEmoji === "ğŸ˜°"
                ? { bg: "bg-red-50", text: "text-red-600" }
                : { bg: "bg-amber-50", text: "text-amber-600" },
          }[v.status] || { bg: "bg-slate-50", text: "text-slate-600" };

          const card = document.createElement("div");
          card.className =
            "volunteer-card bg-white rounded-2xl p-6 shadow-sm border border-slate-100";

          card.innerHTML = `
            <div class="flex items-start justify-between mb-4">
              <div class="flex items-center gap-3">
                <!-- å¤§é ­ç…§ placeholder -->
                <div class="w-12 h-12 rounded-full bg-gradient-to-br from-indigo-400 to-purple-400 flex items-center justify-center text-white font-black text-base shadow-sm">
                  ${v.name.slice(1)}
                </div>
                <div>
                  <h4 class="text-[15px] font-bold text-slate-800">${v.name}</h4>
                  <p class="text-[11px] text-slate-400 mt-0.5">${v.classes}</p>
                </div>
              </div>
              <!-- æƒ…ç·’ç‹€æ…‹ -->
              <span class="text-[11px] font-bold px-3 py-1 rounded-full ${statusStyle.bg} ${statusStyle.text}">
                ${v.statusEmoji} ${v.statusText}
              </span>
            </div>

            <!-- è¿‘æœŸæ—¥èªŒæ‘˜è¦ -->
            <div class="bg-slate-50 rounded-xl p-3 mb-4 border-l-3 border-l-slate-300" style="border-left: 3px solid #e2e8f0;">
              <p class="text-[12px] text-slate-600 leading-relaxed italic">"${v.summary}"</p>
            </div>

            <!-- æœå‹™æ™‚é•· -->
            <div class="flex items-center gap-1.5 mb-5">
              <span class="text-sm">â±ï¸</span>
              <span class="text-[12px] text-slate-500 font-medium">${v.duration}</span>
            </div>

            <!-- æ“ä½œæŒ‰éˆ• -->
            <div class="flex gap-2">
              <button
                class="flex-1 bg-[#6366F1]/10 hover:bg-[#6366F1] text-[#6366F1] hover:text-white text-[11px] font-bold py-2 rounded-xl transition-all duration-200"
                onclick="openSkillModal(${i})"
              >ğŸ—ºï¸ æŸ¥çœ‹æŠ€èƒ½åœ°åœ–</button>
              <button
                class="flex-1 bg-[#EC4899]/10 hover:bg-[#EC4899] text-[#EC4899] hover:text-white text-[11px] font-bold py-2 rounded-xl transition-all duration-200"
                onclick="showToast('ğŸ’Œ å·²ç™¼é€é—œæ‡·è¨Šæ¯çµ¦ ${v.name}ï¼')"
              >ğŸ’Œ ç™¼é€é—œæ‡·è¨Šæ¯</button>
            </div>
          `;
          grid.appendChild(card);
        });

        if (filtered.length === 0) {
          grid.innerHTML =
            '<div class="col-span-2 text-center py-12 text-slate-400 text-[13px]">æ²’æœ‰ç¬¦åˆæ¢ä»¶çš„å¿—å·¥</div>';
        }
      }

      // ç¯©é¸æŒ‰éˆ•ç¶å®š
      document
        .querySelectorAll("#volunteer-filters .filter-pill")
        .forEach((btn) => {
          btn.addEventListener("click", function () {
            document
              .querySelectorAll("#volunteer-filters .filter-pill")
              .forEach((b) => b.classList.remove("active"));
            this.classList.add("active");
            renderVolunteers(this.dataset.filter);
          });
        });

      // åˆå§‹æ¸²æŸ“
      renderVolunteers("all");

      // ================================================================
      // å¿—å·¥æŠ€èƒ½åœ°åœ– Modal + é›·é”åœ–
      // ================================================================
      // ç•¶å‰é–‹å•Ÿçš„å¿—å·¥ç´¢å¼•ï¼ˆå°æ‡‰ volunteerDataï¼‰
      let currentVolunteerIndex = 0;

      // é–‹å•Ÿ Modal
      function openSkillModal(index) {
        currentVolunteerIndex = index;
        const v = volunteerData[index];

        // å¡«å…¥å¿—å·¥è³‡æ–™
        document.getElementById("modal-name").textContent = v.name;
        document.getElementById("modal-class").textContent = v.classes;
        document.getElementById("modal-duration").textContent = v.duration;
        document.getElementById("modal-avatar-char").textContent =
          v.name.slice(1);
        document.getElementById("modal-ai-summary").textContent = v.aiSummary;

        // é¡¯ç¤º Modal
        document.getElementById("skill-modal").style.display = "flex";
        document.body.style.overflow = "hidden"; // é˜²æ­¢èƒŒæ™¯æ²å‹•

        // å»¶é²ç¹ªè£½é›·é”åœ–ï¼ˆç­‰ Modal å‹•ç•«çµæŸï¼‰
        setTimeout(() => drawRadar(v.skills), 100);
      }

      // é—œé–‰ Modal
      function closeModal() {
        document.getElementById("skill-modal").style.display = "none";
        document.body.style.overflow = "";
      }

      // é»æ“Šé®ç½©é—œé–‰
      function closeModalOutside(e) {
        if (e.target === document.getElementById("skill-modal")) {
          closeModal();
        }
      }

      // ================================================================
      // Canvas é›·é”åœ–ç¹ªè£½ï¼ˆåŸç”Ÿ JSï¼Œå«å‹•ç•«ï¼‰
      // ================================================================
      function drawRadar(skills) {
        const canvas = document.getElementById("radar-canvas");
        const ctx = canvas.getContext("2d");
        const W = canvas.width;
        const H = canvas.height;
        const cx = W / 2;
        const cy = H / 2;
        const R = Math.min(W, H) / 2 - 30; // æœ€å¤§åŠå¾‘
        const N = 5; // æŠ€èƒ½ç¶­åº¦æ•¸
        const labels = [
          "èª²å ‚ç®¡ç†",
          "å€‹æ¡ˆè§€å¯Ÿ",
          "æ—¥èªŒæ’°å¯«",
          "åœ˜éšŠå”ä½œ",
          "æƒ…ç·’æ”¯æŒ",
        ];

        // å„ç¶­åº¦çš„è§’åº¦ï¼ˆå¾é ‚éƒ¨é–‹å§‹ï¼Œé †æ™‚é‡ï¼‰
        const angles = labels.map(
          (_, i) => (Math.PI * 2 * i) / N - Math.PI / 2,
        );

        // å‹•ç•«é€²åº¦ï¼ˆ0 â†’ 1ï¼‰
        let progress = 0;
        const duration = 800; // ms
        let startTime = null;

        function easeOutCubic(t) {
          return 1 - Math.pow(1 - t, 3);
        }

        function frame(timestamp) {
          if (!startTime) startTime = timestamp;
          const elapsed = timestamp - startTime;
          progress = Math.min(elapsed / duration, 1);
          const eased = easeOutCubic(progress);

          ctx.clearRect(0, 0, W, H);

          // === ç•«èƒŒæ™¯ç¶²æ ¼ï¼ˆ5 å±¤åŒå¿ƒå¤šé‚Šå½¢ï¼‰===
          const gridLevels = 5;
          for (let level = 1; level <= gridLevels; level++) {
            const r = (R / gridLevels) * level;
            ctx.beginPath();
            angles.forEach((angle, i) => {
              const x = cx + r * Math.cos(angle);
              const y = cy + r * Math.sin(angle);
              if (i === 0) ctx.moveTo(x, y);
              else ctx.lineTo(x, y);
            });
            ctx.closePath();
            ctx.strokeStyle = "rgba(99, 102, 241, 0.12)";
            ctx.lineWidth = 1;
            ctx.stroke();

            // ç™¾åˆ†æ¯”æ¨™ç±¤ï¼ˆåªåœ¨æœ€å¤–å±¤é¡¯ç¤ºï¼‰
            if (level === gridLevels) {
              ctx.fillStyle = "rgba(148, 163, 184, 0.8)";
              ctx.font = '10px "Noto Sans TC", sans-serif';
              ctx.textAlign = "center";
            }
          }

          // === ç•«è»¸ç·šï¼ˆå¾ä¸­å¿ƒåˆ°é ‚é»ï¼‰===
          angles.forEach((angle) => {
            ctx.beginPath();
            ctx.moveTo(cx, cy);
            ctx.lineTo(cx + R * Math.cos(angle), cy + R * Math.sin(angle));
            ctx.strokeStyle = "rgba(99, 102, 241, 0.15)";
            ctx.lineWidth = 1;
            ctx.stroke();
          });

          // === ç•«æŠ€èƒ½å¡«å……å€åŸŸï¼ˆå‹•ç•«å±•é–‹ï¼‰===
          ctx.beginPath();
          skills.forEach((skill, i) => {
            const r = (skill / 100) * R * eased; // å‹•ç•«ç¸®æ”¾
            const x = cx + r * Math.cos(angles[i]);
            const y = cy + r * Math.sin(angles[i]);
            if (i === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
          });
          ctx.closePath();

          // å¡«å……ï¼ˆåŠé€æ˜ä¸»è‰²ï¼‰
          ctx.fillStyle = "rgba(99, 102, 241, 0.18)";
          ctx.fill();

          // é‚Šæ¡†
          ctx.strokeStyle = "#6366f1";
          ctx.lineWidth = 2;
          ctx.stroke();

          // === ç•«é ‚é»åœ“é» ===
          skills.forEach((skill, i) => {
            const r = (skill / 100) * R * eased;
            const x = cx + r * Math.cos(angles[i]);
            const y = cy + r * Math.sin(angles[i]);
            ctx.beginPath();
            ctx.arc(x, y, 4, 0, Math.PI * 2);
            ctx.fillStyle = "#6366f1";
            ctx.fill();
            ctx.strokeStyle = "white";
            ctx.lineWidth = 2;
            ctx.stroke();
          });

          // === ç•«æ¨™ç±¤ï¼ˆæŠ€èƒ½åç¨± + æ•¸å€¼ï¼‰===
          ctx.font = 'bold 11px "Noto Sans TC", sans-serif';
          angles.forEach((angle, i) => {
            const labelR = R + 20;
            const x = cx + labelR * Math.cos(angle);
            const y = cy + labelR * Math.sin(angle);

            ctx.fillStyle = "#475569";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText(labels[i], x, y - 6);

            // æ•¸å€¼ï¼ˆå‹•ç•«æ™‚é¡¯ç¤ºç•¶å‰é€²åº¦å€¼ï¼‰
            ctx.fillStyle = "#6366f1";
            ctx.font = 'bold 12px "Noto Sans TC", sans-serif';
            ctx.fillText(Math.round(skills[i] * eased), x, y + 8);
            ctx.font = 'bold 11px "Noto Sans TC", sans-serif';
          });

          if (progress < 1) {
            requestAnimationFrame(frame);
          }
        }

        requestAnimationFrame(frame);
      }
    </script>
  </body>
</html>
