<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>æ°¸çºŒå¿—å·¥ï¼šé˜¿æ˜çš„æˆé•·æ•¸æ“šé£›è¼ª</title>

    <!-- Google Fontsï¼šè¼‰å…¥ Noto Sans TC ç¹é«”ä¸­æ–‡å­—å‹ -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React 18 CDN -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- Babel Standaloneï¼šè®“ç€è¦½å™¨èƒ½ç›´æ¥è·‘ JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Tailwind è‡ªè¨‚è¨­å®šï¼šå­—å‹æ”¹ç”¨ Noto Sans TC -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['"Noto Sans TC"', "sans-serif"],
            },
          },
        },
      };
    </script>

    <style>
      /* === é é¢åŸºç¤æ¨£å¼ === */
      body {
        margin: 0;
        padding: 0;
        background: #f8fafc;
        font-family: "Noto Sans TC", sans-serif;
      }

      /* === CSS Keyframes å‹•ç•«å®šç¾© === */

      /* æ·¡å…¥ */
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* å¾ä¸‹æ–¹æ·¡å…¥ä¸Šæ»‘ */
      @keyframes fadeInUp {
        from {
          opacity: 0;
          transform: translateY(24px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* å¾å³å´æ»‘å…¥ */
      @keyframes slideInRight {
        from {
          opacity: 0;
          transform: translateX(40px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* è„ˆè¡é–ƒçˆï¼ˆç”¨æ–¼ç•¶å‰é€²åº¦åœ“é»ï¼‰ */
      @keyframes pulse {
        0%,
        100% {
          box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
        }
        50% {
          box-shadow: 0 0 0 8px rgba(59, 130, 246, 0);
        }
      }

      /* ç¸®æ”¾å½ˆå…¥ */
      @keyframes scaleIn {
        from {
          opacity: 0;
          transform: scale(0.8);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }

      /* é€²åº¦æ¢å¡«å……å‹•ç•« */
      @keyframes progressBar {
        from {
          width: 0%;
        }
        to {
          width: 100%;
        }
      }

      /* é›·é”åœ–ç¶»æ”¾å‹•ç•« */
      @keyframes radarBloom {
        from {
          opacity: 0;
          transform: scale(0.3) rotate(-10deg);
        }
        to {
          opacity: 1;
          transform: scale(1) rotate(0deg);
        }
      }

      /* === å‹•ç•«å·¥å…· class === */
      .animate-fade-in {
        animation: fadeIn 0.5s ease-out forwards;
      }

      .animate-fade-in-up {
        animation: fadeInUp 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        opacity: 0;
      }

      .animate-slide-in-right {
        animation: slideInRight 0.6s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        opacity: 0;
      }

      .animate-pulse-dot {
        animation: pulse 2s ease-in-out infinite;
      }

      .animate-scale-in {
        animation: scaleIn 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        opacity: 0;
      }

      .animate-progress-bar {
        animation: progressBar 1.2s ease-out forwards;
      }

      .animate-radar-bloom {
        animation: radarBloom 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards;
        opacity: 0;
      }

      /* === éšæ®µè½‰å ´æ•ˆæœ === */
      .stage-enter {
        animation: fadeInUp 0.5s cubic-bezier(0.22, 1, 0.36, 1) forwards;
      }

      .stage-exit {
        opacity: 0;
        transition: opacity 0.3s ease-out;
      }
    </style>
  </head>

  <body>
    <!-- React æ›è¼‰é» -->
    <div id="root"></div>

    <script type="text/babel">
      /* ==========================================
       *  æ°¸çºŒå¿—å·¥ï¼šé˜¿æ˜çš„æˆé•·æ•¸æ“šé£›è¼ª
       *  React 18 + Tailwind CSS + Babel Standalone
       * ========================================== */

      const { useState, useCallback } = React;

      /* ------------------------------------------
       * é¡è‰²å¸¸æ•¸ï¼ˆè‰²å½©ä»£ç¢¼é›†ä¸­ç®¡ç†ï¼‰
       * ------------------------------------------ */
      const COLORS = {
        brandDeep: "#1E40AF", // å“ç‰Œè—ï¼ˆæ·±è‰²ï¼‰
        brandBright: "#3B82F6", // å“ç‰Œè—ï¼ˆäº®è‰²ï¼‰
        warmDeep: "#EA580C", // æš–æ©˜ï¼ˆæ·±è‰²ï¼‰
        warmBright: "#F97316", // æš–æ©˜ï¼ˆäº®è‰²ï¼‰
        titleDark: "#1E293B", // æ·±ç°ï¼ˆæ¨™é¡Œç”¨ï¼‰
        background: "#F8FAFC", // é é¢èƒŒæ™¯
        card: "#FFFFFF", // å¡ç‰‡ç™½
        success: "#10B981", // æˆåŠŸç¶ 
      };

      /* ------------------------------------------
       * é€²åº¦ç«™é»è¨­å®š
       * ------------------------------------------ */
      const STAGES = [
        { id: 1, label: "ç¬¬ä¸€ç«™" },
        { id: 2, label: "ç¬¬äºŒç«™" },
        { id: 3, label: "ç¬¬ä¸‰ç«™" },
      ];

      /* ------------------------------------------
       * TopNav å…ƒä»¶ï¼šé ‚éƒ¨å°è¦½åˆ—
       * - å›ºå®šåœ¨é é¢æœ€ä¸Šæ–¹
       * - åŒ…å«è¿”å›é¦–é é€£çµã€é€²åº¦æŒ‡ç¤ºå™¨ã€æ¨™é¡Œ
       * ------------------------------------------ */
      function TopNav({ currentStage, onStageClick }) {
        return (
          <nav
            className="sticky top-0 z-50 bg-white shadow-sm"
            style={{ borderBottom: "1px solid #E2E8F0" }}
          >
            <div className="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between">
              {/* å·¦å´ï¼šè¿”å›é¦–é  */}
              <a
                href="index.html"
                className="flex items-center gap-1 text-sm font-medium hover:opacity-70 transition-opacity"
                style={{ color: COLORS.brandBright }}
              >
                <span>â†</span>
                <span>å›åˆ°é¦–é </span>
              </a>

              {/* ä¸­é–“ï¼šé€²åº¦æŒ‡ç¤ºå™¨ */}
              <div className="flex items-center gap-1">
                {STAGES.map((stage, index) => {
                  // åˆ¤æ–·åœ“é»ç‹€æ…‹ï¼šå·²å®Œæˆ / ç•¶å‰ / æœªåˆ°
                  const isCompleted = stage.id < currentStage;
                  const isCurrent = stage.id === currentStage;
                  const isPending = stage.id > currentStage;

                  return (
                    <React.Fragment key={stage.id}>
                      {/* åœ“é»å’Œæ¨™ç±¤çš„å®¹å™¨ */}
                      <div className="flex flex-col items-center">
                        {/* åœ“é»ï¼šå¯é»æ“Šåˆ‡æ›éšæ®µ */}
                        <button
                          onClick={() => onStageClick(stage.id)}
                          className={`
                            w-8 h-8 rounded-full flex items-center justify-center
                            text-xs font-bold transition-all duration-300 cursor-pointer
                            ${isCurrent ? "animate-pulse-dot" : ""}
                          `}
                          style={{
                            backgroundColor:
                              isCurrent || isCompleted
                                ? COLORS.brandBright
                                : "transparent",
                            color:
                              isCurrent || isCompleted ? "#FFFFFF" : "#CBD5E1",
                            border: isPending
                              ? "2px solid #CBD5E1"
                              : `2px solid ${COLORS.brandBright}`,
                          }}
                        >
                          {/* å·²å®Œæˆé¡¯ç¤ºå‹¾å‹¾ï¼Œå…¶é¤˜é¡¯ç¤ºæ•¸å­— */}
                          {isCompleted ? "âœ“" : stage.id}
                        </button>

                        {/* åœ“é»ä¸‹æ–¹çš„ç«™åæ¨™ç±¤ */}
                        <span
                          className="text-xs mt-1 whitespace-nowrap"
                          style={{
                            color: isCurrent
                              ? COLORS.brandBright
                              : isCompleted
                                ? COLORS.brandDeep
                                : "#94A3B8",
                            fontWeight: isCurrent ? 600 : 400,
                          }}
                        >
                          {stage.label}
                        </span>
                      </div>

                      {/* åœ“é»ä¹‹é–“çš„é€£æ¥ç·šï¼ˆæœ€å¾Œä¸€å€‹ä¸éœ€è¦ï¼‰ */}
                      {index < STAGES.length - 1 && (
                        <div
                          className="h-0.5 rounded-full transition-all duration-500"
                          style={{
                            width: "40px",
                            backgroundColor:
                              stage.id < currentStage
                                ? COLORS.brandBright
                                : "#E2E8F0",
                            marginBottom: "18px", // å°é½Šåœ“é»ä¸­å¿ƒï¼ˆæ‰£æ‰ä¸‹æ–¹æ¨™ç±¤é«˜åº¦ï¼‰
                          }}
                        />
                      )}
                    </React.Fragment>
                  );
                })}
              </div>

              {/* å³å´ï¼šé é¢æ¨™é¡Œ */}
              <span
                className="text-sm font-semibold hidden sm:block"
                style={{ color: COLORS.titleDark }}
              >
                æ°¸çºŒå¿—å·¥æ•¸æ“šé£›è¼ª
              </span>
            </div>
          </nav>
        );
      }

      /* ------------------------------------------
       * StagePlaceholder å…ƒä»¶ï¼šå„ç«™çš„æš«æ™‚ä½”ä½å…§å®¹
       * ä¹‹å¾Œæœƒæ›¿æ›æˆæ­£å¼çš„å…§å®¹å…ƒä»¶
       * ------------------------------------------ */
      function StagePlaceholder({ stageId, label }) {
        // æ¯ç«™ä¸åŒçš„èƒŒæ™¯æ¼¸å±¤è‰²ï¼Œå¢æ·»è¦–è¦ºå€åˆ†
        const gradients = {
          1: "linear-gradient(135deg, #EFF6FF 0%, #DBEAFE 100%)",
          2: "linear-gradient(135deg, #FFF7ED 0%, #FFEDD5 100%)",
          3: "linear-gradient(135deg, #ECFDF5 0%, #D1FAE5 100%)",
        };

        const icons = {
          1: "ğŸ“‹",
          2: "ğŸ“Š",
          3: "ğŸš€",
        };

        return (
          <div
            className="flex flex-col items-center justify-center stage-enter"
            style={{ minHeight: "calc(100vh - 100px)" }}
          >
            <div
              className="rounded-2xl shadow-lg p-12 text-center max-w-md w-full mx-4"
              style={{ background: gradients[stageId] || gradients[1] }}
            >
              <div className="text-5xl mb-4">{icons[stageId]}</div>
              <h2
                className="text-2xl font-bold mb-2"
                style={{ color: COLORS.titleDark }}
              >
                {label}å…§å®¹
              </h2>
              <p className="text-sm" style={{ color: "#64748B" }}>
                æ­¤å€å¡Šå°‡åœ¨å¾ŒçºŒä»»å‹™ä¸­å¯¦ä½œ
              </p>
            </div>
          </div>
        );
      }

      /* ------------------------------------------
       * App å…ƒä»¶ï¼šä¸»æ‡‰ç”¨ç¨‹å¼
       * - ç®¡ç†ç•¶å‰ç«™é» (currentStage)
       * - ç®¡ç†è½‰å ´å‹•ç•« (stageTransition)
       * ------------------------------------------ */
      function App() {
        // currentStage: 1~3 ä»£è¡¨ä¸‰å€‹ç«™é»
        const [currentStage, setCurrentStage] = useState(1);
        // stageTransition: true æ™‚è§¸ç™¼æ·¡å‡ºæ•ˆæœ
        const [stageTransition, setStageTransition] = useState(false);

        /**
         * goToStageï¼šåˆ‡æ›ç«™é»çš„å‡½å¼
         * æµç¨‹ï¼šå…ˆæ·¡å‡ºï¼ˆ300msï¼‰â†’ åˆ‡æ›å…§å®¹ â†’ æ·¡å…¥
         */
        const goToStage = useCallback(
          (targetStage) => {
            // å¦‚æœç›®æ¨™å°±æ˜¯ç•¶å‰ç«™ï¼Œä¸åšä»»ä½•äº‹
            if (targetStage === currentStage) return;
            // é™åˆ¶ç¯„åœåœ¨ 1~3
            if (targetStage < 1 || targetStage > 3) return;

            // æ­¥é©Ÿ 1ï¼šè§¸ç™¼æ·¡å‡º
            setStageTransition(true);

            // æ­¥é©Ÿ 2ï¼šç­‰ 300ms å¾Œåˆ‡æ›ç«™é»ä¸¦ç§»é™¤è½‰å ´ç‹€æ…‹
            setTimeout(() => {
              setCurrentStage(targetStage);
              setStageTransition(false);
            }, 300);
          },
          [currentStage],
        );

        // æ‰¾åˆ°ç•¶å‰ç«™é»çš„æ¨™ç±¤æ–‡å­—
        const currentLabel =
          STAGES.find((s) => s.id === currentStage)?.label || "";

        return (
          <div
            className="min-h-screen"
            style={{
              background: COLORS.background,
              fontFamily: '"Noto Sans TC", sans-serif',
            }}
          >
            {/* é ‚éƒ¨å°è¦½åˆ— */}
            <TopNav currentStage={currentStage} onStageClick={goToStage} />

            {/* ä¸»è¦å…§å®¹å€åŸŸï¼ˆæ ¹æ“š currentStage æ¸²æŸ“å°æ‡‰å…ƒä»¶ï¼‰ */}
            <main
              className={`transition-opacity duration-300 ${
                stageTransition ? "opacity-0" : "opacity-100"
              }`}
            >
              <StagePlaceholder stageId={currentStage} label={currentLabel} />
            </main>
          </div>
        );
      }

      /* ------------------------------------------
       * æ›è¼‰ React App åˆ° DOM
       * ------------------------------------------ */
      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
